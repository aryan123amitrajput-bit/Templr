=== metadata.json ===
{
  "name": "  Templr with Premium features V5",
  "description": "A futuristic web platform for exploring and sharing stunning website design templates, featuring a dark UI with glowing blue accents and glassmorphism.",
  "requestFramePermissions": []
}


=== App.tsx ===
import React, { useState, useEffect, useMemo } from 'react';
import Header from './components/Header';
import Hero from './components/Hero';
import TemplateGallery from './components/TemplateGallery';
import WhyTemplr from './components/WhyTemplr';
import FeaturedCreators from './components/FeaturedCreators';
import CTA from './components/CTA';
import Footer from './components/Footer';
import ChatModal from './components/ChatModal';
import UploadModal from './components/UploadModal';
import ImageViewerModal from './components/ImageViewerModal';
import DashboardModal from './components/DashboardModal';
import LoginModal from './components/LoginModal';
import Notification from './components/Notification';
import * as api from './api';
import { playOpenModalSound, playCloseModalSound, playSuccessSound } from './audio';
import type { Session, Template, NewTemplateData } from './api';


const App: React.FC = () => {
  const [isChatModalOpen, setChatModalOpen] = useState(false);
  const [chattingWith, setChattingWith] = useState('');
  const [isUploadModalOpen, setUploadModalOpen] = useState(false);
  const [isDashboardOpen, setDashboardOpen] = useState(false); 
  const [isLoginModalOpen, setLoginModalOpen] = useState(false); // Login Modal State
  const [templates, setTemplates] = useState<Template[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isViewerOpen, setViewerOpen] = useState(false);
  const [viewingTemplate, setViewingTemplate] = useState<Template | null>(null);
  const [notification, setNotification] = useState<string | null>(null);
  const [session, setSession] = useState<Session | null>(null);

  // Local User State
  const [likedTemplateIds, setLikedTemplateIds] = useState<Set<string>>(() => {
    try {
      const saved = localStorage.getItem('templr_liked_ids');
      return new Set(saved ? JSON.parse(saved) : []);
    } catch (e) {
      return new Set();
    }
  });

  const [viewedTemplateIds, setViewedTemplateIds] = useState<Set<string>>(() => {
    try {
      const saved = localStorage.getItem('templr_viewed_ids');
      return new Set(saved ? JSON.parse(saved) : []);
    } catch (e) {
      return new Set();
    }
  });

  useEffect(() => {
    const { data: { subscription } } = api.onAuthStateChange((_event, session) => {
      setSession(session);
    });
    return () => subscription.unsubscribe();
  }, []);
  
  useEffect(() => {
    setIsLoading(true);
    api.listenForTemplates((newTemplates) => {
      setTemplates(newTemplates);
      setIsLoading(false);
    });
    return () => { api.detachTemplatesListener(); };
  }, []);

  const displayTemplates = useMemo(() => {
    return templates.map(t => ({
      ...t,
      isLiked: likedTemplateIds.has(t.id)
    }));
  }, [templates, likedTemplateIds]);

  const handleOpenChatModal = (creatorName: string) => {
    playOpenModalSound();
    setChattingWith(creatorName);
    setChatModalOpen(true);
  };

  const handleCloseChatModal = () => {
    playCloseModalSound();
    setChatModalOpen(false);
  };

  const handleOpenUploadModal = () => {
    playOpenModalSound();
    setUploadModalOpen(true);
  };

  const handleCloseUploadModal = () => {
    playCloseModalSound();
    setUploadModalOpen(false);
  };

  const handleOpenDashboard = () => {
      playOpenModalSound();
      setDashboardOpen(true);
  }

  const handleCloseDashboard = () => {
      playCloseModalSound();
      setDashboardOpen(false);
  }

  const handleOpenLoginModal = () => {
    playOpenModalSound();
    setLoginModalOpen(true);
  }

  const handleCloseLoginModal = () => {
    playCloseModalSound();
    setLoginModalOpen(false);
  }

  // Auth Handlers
  const handleEmailLogin = async (email: string, pass: string) => {
    await api.signInWithEmail(email, pass);
  }

  const handleEmailSignup = async (email: string, pass: string, name: string) => {
    await api.signUpWithEmail(email, pass, name);
  }
  
  const handleSignOut = async () => { await api.signOut(); };

  const handleAddTemplate = async (templateData: NewTemplateData) => {
    // Session check is now also handled inside UploadModal for better UX
    if (!session?.user) {
      setNotification("Please sign in to complete your upload.");
      handleOpenLoginModal();
      return;
    }
    await api.addTemplate(templateData, session.user);
    playSuccessSound();
    setNotification("Design uploaded successfully.");
  };

  const handleViewClick = (templateId: string) => {
    const templateToShow = displayTemplates.find(t => t.id === templateId);
    if (templateToShow) {
      playOpenModalSound();
      if (!viewedTemplateIds.has(templateId)) {
         const updatedViews = templateToShow.views + 1;
         api.updateTemplate(templateId, { views: updatedViews });
         const newViewedSet = new Set(viewedTemplateIds);
         newViewedSet.add(templateId);
         setViewedTemplateIds(newViewedSet);
         localStorage.setItem('templr_viewed_ids', JSON.stringify(Array.from(newViewedSet)));
         setViewingTemplate({ ...templateToShow, views: updatedViews });
      } else {
         setViewingTemplate(templateToShow);
      }
      setViewerOpen(true);
    }
  };

  const handleCloseViewer = () => {
    playCloseModalSound();
    setViewerOpen(false);
    setTimeout(() => setViewingTemplate(null), 300);
  };

  const handleLikeClick = (templateId: string) => {
    const template = templates.find(t => t.id === templateId);
    if (template) {
        const isCurrentlyLiked = likedTemplateIds.has(templateId);
        const newLikes = isCurrentlyLiked ? template.likes - 1 : template.likes + 1;
        const safeLikes = Math.max(0, newLikes);
        api.updateTemplate(templateId, { likes: safeLikes });
        const newLikedSet = new Set(likedTemplateIds);
        if (isCurrentlyLiked) {
            newLikedSet.delete(templateId);
        } else {
            newLikedSet.add(templateId);
        }
        setLikedTemplateIds(newLikedSet);
        localStorage.setItem('templr_liked_ids', JSON.stringify(Array.from(newLikedSet)));
    }
  };

  return (
    <div className="min-h-screen bg-[#000000] text-white font-sans overflow-x-hidden selection:bg-white selection:text-black">
      <Header 
        session={session}
        onUploadClick={handleOpenUploadModal} 
        onLoginClick={handleOpenLoginModal}
        onSignOut={handleSignOut}
        onDashboardClick={handleOpenDashboard}
      />
      <main>
        {/* Components handle their own ScrollReveal animations now */}
        <Hero onUploadClick={handleOpenUploadModal} />
        
        <WhyTemplr />
        
        <TemplateGallery 
          templates={displayTemplates}
          isLoading={isLoading}
          onMessageCreator={handleOpenChatModal}
          onLike={handleLikeClick}
          onView={handleViewClick}
        />
        
        <FeaturedCreators />
        
        <CTA />
      </main>
      
      <Footer onShowNotification={(msg) => setNotification(msg)} />

      <ChatModal 
        isOpen={isChatModalOpen} 
        onClose={handleCloseChatModal} 
        creatorName={chattingWith} 
      />
      <UploadModal 
        isOpen={isUploadModalOpen}
        onClose={handleCloseUploadModal}
        onAddTemplate={handleAddTemplate}
        onDashboardClick={() => {
          handleCloseUploadModal();
          handleOpenDashboard();
        }}
        isLoggedIn={!!session}
        onLoginRequest={handleOpenLoginModal}
      />
      <ImageViewerModal
        isOpen={isViewerOpen}
        onClose={handleCloseViewer}
        template={viewingTemplate}
      />
      <DashboardModal 
        isOpen={isDashboardOpen}
        onClose={handleCloseDashboard}
        userEmail={session?.user.email}
      />
      <LoginModal 
        isOpen={isLoginModalOpen}
        onClose={handleCloseLoginModal}
        onLogin={handleEmailLogin}
        onSignup={handleEmailSignup}
      />
      {notification && (
        <Notification 
          message={notification}
          onClose={() => setNotification(null)}
        />
      )}
    </div>
  );
};

export default App;


=== components/Header.tsx ===
import React, { useState, useEffect, useRef } from 'react';
import { UploadIcon } from './Icons';
import { playClickSound } from '../audio';
import type { Session } from '../api';
import { BorderBeam } from './ui/BorderBeam';

interface HeaderProps {
  session: Session | null;
  onUploadClick: () => void;
  onLoginClick: () => void;
  onSignOut: () => void;
  onDashboardClick: () => void;
}

const Header: React.FC<HeaderProps> = ({ session, onUploadClick, onLoginClick, onSignOut, onDashboardClick }) => {
  const [isUserMenuOpen, setIsUserMenuOpen] = useState(false);
  const menuRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const handleClickOutside = (e: MouseEvent) => {
        if (menuRef.current && !menuRef.current.contains(e.target as Node)) {
            setIsUserMenuOpen(false);
        }
    };
    document.addEventListener('mousedown', handleClickOutside);
    return () => document.removeEventListener('mousedown', handleClickOutside);
  }, []);

  return (
    <div className="fixed top-0 left-0 right-0 z-[60] flex justify-center pt-6 px-6 pointer-events-none">
        <header 
            className="pointer-events-auto bg-[#0A0A0A]/90 backdrop-blur-md border border-[#1F1F1F] py-2.5 px-4 rounded-full shadow-2xl flex items-center gap-6 sm:gap-12 animate-slide-up opacity-0 [animation-delay:200ms]"
        >
            {/* Logo */}
            <div 
                className="flex items-center gap-2 group cursor-pointer" 
                onClick={() => window.scrollTo({top: 0, behavior: 'smooth'})}
            >
                <div className="w-5 h-5 bg-white rounded-sm flex items-center justify-center">
                    <div className="w-2 h-2 bg-black rounded-[1px]"></div>
                </div>
                <span className="font-display font-bold text-sm tracking-tight text-white">Templr</span>
            </div>

            {/* Nav Links */}
            <nav className="hidden md:flex items-center gap-1">
                {['Work', 'Studio', 'About'].map((item) => (
                    <a 
                        key={item}
                        href="#" 
                        onClick={(e) => { e.preventDefault(); playClickSound(); }}
                        className="px-4 py-1.5 text-[13px] text-slate-400 hover:text-white transition-colors"
                    >
                        {item}
                    </a>
                ))}
            </nav>

            {/* Actions */}
            <div className="flex items-center gap-3">
                {session ? (
                    <>
                        <button 
                            onClick={() => { playClickSound(); onUploadClick(); }}
                            className="hidden sm:flex items-center gap-2 text-[12px] font-medium text-slate-300 hover:text-white transition-colors"
                        >
                            <span>Submit</span>
                        </button>
                        
                        <div className="relative" ref={menuRef}>
                            <button onClick={() => setIsUserMenuOpen(!isUserMenuOpen)} className="block rounded-full focus:outline-none active:scale-95 transition-transform">
                                <img 
                                    src={session.user.user_metadata?.avatar_url || `https://ui-avatars.com/api/?name=${encodeURIComponent(session.user.email || 'U')}&background=333&color=fff`} 
                                    alt="User" 
                                    className="w-7 h-7 rounded-full border border-[#333]"
                                />
                            </button>
                            {isUserMenuOpen && (
                                <div className="absolute right-0 mt-4 w-48 bg-[#111] border border-[#222] rounded-lg shadow-xl py-1 overflow-hidden animate-fade-in">
                                    <button onClick={() => { onDashboardClick(); setIsUserMenuOpen(false); }} className="w-full text-left px-4 py-2 text-xs text-slate-400 hover:text-white hover:bg-white/5 transition-colors">Dashboard</button>
                                    <button onClick={onSignOut} className="w-full text-left px-4 py-2 text-xs text-slate-400 hover:text-white hover:bg-white/5 transition-colors">Sign Out</button>
                                </div>
                            )}
                        </div>
                    </>
                ) : (
                    <button 
                        onClick={() => { playClickSound(); onLoginClick(); }}
                        className="relative overflow-hidden px-6 py-1.5 text-[12px] font-semibold text-white bg-slate-900/50 hover:bg-slate-800 transition-colors rounded-full border border-white/10 group"
                    >
                        <span className="relative z-10">Log In</span>
                        <BorderBeam size={40} duration={3} delay={0} colorFrom="#60a5fa" colorTo="#3b82f6" />
                    </button>
                )}
            </div>
      </header>
    </div>
  );
};

export default Header;


=== components/Hero.tsx ===
import React, { useEffect, useRef, useState, useMemo } from 'react';
import { ArrowRightIcon, UploadIcon } from './Icons';
import { playClickSound } from '../audio';
import { MovingBorderButton } from './ui/MovingBorder';
import { motion, AnimatePresence } from 'framer-motion';
import ParticleAnimation from './ParticleAnimation';

interface HeroProps {
  onUploadClick: () => void;
}

const Hero: React.FC<HeroProps> = ({ onUploadClick }) => {
  const [headlineIndex, setHeadlineIndex] = useState(0);

  const headlines = useMemo(() => [
    {
        id: 1,
        content: <>Design the <br className="hidden md:block" /> Extraordinary.</>,
        className: "text-6xl md:text-8xl lg:text-9xl bg-gradient-to-b from-[#ffffff] via-[#dbeafe] to-[#64748b] bg-clip-text text-transparent drop-shadow-[0_2px_20px_rgba(255,255,255,0.25)] leading-[1.1] text-center pb-2"
    },
    {
        id: 2,
        content: "Optimized for phone",
        className: "text-6xl md:text-8xl lg:text-9xl bg-gradient-to-b from-cyan-300 via-blue-600 to-indigo-900 bg-clip-text text-transparent drop-shadow-[0_0_80px_rgba(0,140,255,1.0)] leading-[1.1] text-center pb-2"
    },
    {
        id: 3,
        content: <>The simplest<br/>Template library</>,
        className: "text-5xl md:text-7xl lg:text-8xl bg-gradient-to-b from-orange-400 via-orange-600 to-red-900 bg-clip-text text-transparent drop-shadow-[0_0_50px_rgba(234,88,12,0.6)] leading-tight text-center pb-4 mx-auto"
    }
  ], []);

  useEffect(() => {
    // Initial 3s hold for the first headline
    let interval: any;
    const timer: any = setTimeout(() => {
        setHeadlineIndex(1); // Move to second headline
        // Start cycle: 1.2s transition + 3.0s hold = 4.2s total interval
        interval = setInterval(() => {
            setHeadlineIndex((prev) => (prev + 1) % headlines.length);
        }, 4200); 
    }, 3000); 

    return () => {
        clearTimeout(timer);
        if (interval) clearInterval(interval);
    };
  }, [headlines.length]);

  const scrollToGallery = () => {
    playClickSound();
    const gallery = document.getElementById('gallery');
    if (gallery) gallery.scrollIntoView({ behavior: 'smooth' });
  };

  return (
    <section 
        className="relative h-screen min-h-[900px] w-full flex flex-col items-center justify-center overflow-hidden bg-[#000000]"
    >
      
      {/* --- SUBTLE PARTICLE BACKGROUND --- */}
      <div className="absolute inset-0 z-0">
         <ParticleAnimation />
      </div>

      {/* --- MAIN CONTENT (Z-INDEX 10) --- */}
      <div className="relative z-10 flex flex-col items-center text-center max-w-6xl mx-auto px-6 mt-[-8vh]">
        
        {/* Release Pill */}
        <div className="animate-reveal-blur opacity-0 [animation-delay:0ms] mb-12 cursor-default relative group will-change-[transform,opacity]">
            <MovingBorderButton
                borderRadius="9999px"
                className="bg-black/90 backdrop-blur-3xl"
                containerClassName="p-[1px]"
                borderClassName="bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-cyan-500 via-cyan-500/40 to-transparent w-24 h-24 opacity-100 blur-[8px]" 
                duration={3000}
            >
                 <div className="flex items-center gap-3 px-5 py-2">
                     <div className="flex items-center gap-1.5">
                         <span className="relative flex h-2 w-2">
                             <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-50"></span>
                             <span className="relative inline-flex rounded-full h-2 w-2 bg-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.8)]"></span>
                         </span>
                         <span className="text-[11px] font-bold tracking-[0.2em] text-cyan-50 uppercase">Templr v3.0</span>
                     </div>
                     <div className="h-3 w-[1px] bg-white/10 mx-1"></div>
                     <span className="text-[11px] text-slate-400 font-medium tracking-wide group-hover:text-slate-200 transition-colors">
                         The Future of Design
                     </span>
                 </div>
            </MovingBorderButton>
        </div>

        {/* Cinematic Headline with Text Rotator */}
        <div className="relative h-[250px] md:h-[320px] w-full flex items-center justify-center mb-8 overflow-visible perspective-container z-20">
            <AnimatePresence mode="popLayout" initial={false}>
                <motion.h1
                    key={headlineIndex}
                    initial={{ y: "40%", opacity: 0, filter: 'blur(20px)', rotateX: -10 }}
                    animate={{ y: "0%", opacity: 1, filter: 'blur(0px)', rotateX: 0 }}
                    exit={{ y: "-40%", opacity: 0, filter: 'blur(20px)', rotateX: 10 }}
                    transition={{ duration: 1.2, ease: [0.22, 1, 0.36, 1] }}
                    className="absolute inset-0 flex items-center justify-center font-semibold tracking-tighter w-full px-4"
                >
                    <span className={`${headlines[headlineIndex].className} inline-block`}>
                        {headlines[headlineIndex].content}
                    </span>
                </motion.h1>
            </AnimatePresence>
        </div>

        {/* Subtext */}
        <p className="animate-reveal-blur opacity-0 [animation-delay:400ms] text-lg md:text-2xl text-slate-400/80 font-light max-w-2xl mx-auto mb-14 leading-relaxed tracking-wide mix-blend-plus-lighter will-change-[transform,opacity]">
            The curated marketplace for high-fidelity digital assets. <br className="hidden md:block"/>
            <span className="text-slate-500">Built for the obsessive.</span>
        </p>

        {/* Premium Action Stack */}
        <div className="animate-reveal-blur opacity-0 [animation-delay:600ms] flex flex-col md:flex-row items-center gap-6 w-full justify-center will-change-[transform,opacity]">
            
            {/* Primary Button */}
            <button 
                onClick={scrollToGallery}
                className="group relative h-14 px-8 min-w-[200px] rounded-full transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] shadow-[0_20px_50px_-20px_rgba(255,255,255,0.3),0_10px_20px_-10px_rgba(255,255,255,0.1)] overflow-hidden ring-1 ring-white/50"
            >
                <div className="absolute inset-0 bg-gradient-to-b from-white via-slate-100 to-[#d4d4d8]"></div>
                <div className="absolute top-[2px] left-[2px] right-[2px] h-[40%] bg-gradient-to-b from-white to-transparent rounded-t-full opacity-90"></div>
                <div className="absolute bottom-0 inset-x-0 h-[30%] bg-gradient-to-t from-black/10 to-transparent mix-blend-multiply"></div>
                
                {/* Refined Shine Effect */}
                <div className="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none">
                    <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-[100%] group-hover:animate-[shimmer_2.5s_infinite] mix-blend-overlay"></div>
                </div>

                <span className="relative z-10 flex items-center justify-center gap-2 text-black font-bold tracking-wide text-sm drop-shadow-[0_1px_0_rgba(255,255,255,0.8)]">
                    Explore Collection
                    <ArrowRightIcon className="w-4 h-4 transition-transform group-hover:translate-x-1" />
                </span>
            </button>

            {/* Secondary Button */}
            <button 
                onClick={() => { playClickSound(); onUploadClick(); }}
                className="group relative h-14 px-8 min-w-[200px] rounded-full transition-all duration-300 hover:scale-[1.02] active:scale-[0.98] shadow-[0_10px_30px_-10px_rgba(0,0,0,0.5)] overflow-hidden"
            >
                 <div className="absolute inset-0 bg-[#0A0A0A]/40 backdrop-blur-xl rounded-full transition-colors group-hover:bg-[#0A0A0A]/60 shadow-[inset_0_1px_0_rgba(255,255,255,0.1),inset_0_-2px_5px_rgba(0,0,0,0.5)]"></div>
                 <div className="absolute inset-0 rounded-full p-[1px] bg-gradient-to-b from-white/20 via-white/5 to-black/40">
                     <div className="w-full h-full rounded-full bg-transparent"></div>
                 </div>
                 
                 {/* Internal Glow Pulse */}
                 <div className="absolute inset-0 rounded-full opacity-0 group-hover:opacity-60 transition-opacity duration-700 shadow-[inset_0_0_30px_rgba(59,130,246,0.1),0_0_20px_rgba(59,130,246,0.05)]"></div>
                 
                 {/* Integrated Rim Light Moving */}
                 <div className="absolute inset-0 rounded-full overflow-hidden opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none">
                    <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-[100%] group-hover:animate-[shimmer_3s_infinite] mix-blend-overlay"></div>
                 </div>

                 <div className="absolute top-0 left-4 right-4 h-[1px] bg-white/30 blur-[1px]"></div>
                 <span className="relative z-10 flex items-center justify-center gap-2 text-white font-medium tracking-wide text-sm shadow-black drop-shadow-md">
                    <UploadIcon className="w-4 h-4 text-slate-400 group-hover:text-white transition-colors" />
                    Submit Work
                 </span>
            </button>
        </div>
      </div>
      
      {/* --- 4. BOTTOM FADE (Seamless Transition) --- */}
      <div className="absolute bottom-0 inset-x-0 h-32 bg-gradient-to-t from-black to-transparent z-20 pointer-events-none"></div>

    </section>
  );
};

export default Hero;


=== components/TemplateGallery.tsx ===
import React, { useState, useMemo } from 'react';
import TemplateCard from './TemplateCard';
import { Template } from '../api';
import { playClickSound } from '../audio';
import { SearchIcon, NoResultsIcon, XIcon } from './Icons';
import { ScrollReveal } from './ScrollReveal';
import { BorderBeam } from './ui/BorderBeam';

const filters = ['All', 'Popular', 'Newest', 'Portfolio', 'E-commerce', 'SaaS', 'Blog'];

interface TemplateGalleryProps {
  templates: Template[];
  onMessageCreator: (creatorName: string) => void;
  onView: (templateId: string) => void;
  onLike: (templateId: string) => void;
  isLoading: boolean;
}

const TemplateCardSkeleton: React.FC<{ style?: React.CSSProperties }> = ({ style }) => (
  <div 
    style={style}
    className="flex flex-col bg-[#09090b] rounded-[24px] border border-zinc-900 overflow-hidden"
  >
    {/* Image Section */}
    <div className="aspect-[4/3] w-full bg-zinc-900/50 animate-pulse relative overflow-hidden">
       {/* Badge placeholders */}
       <div className="absolute top-4 left-4 w-16 h-6 bg-white/5 rounded-full"></div>
       <div className="absolute top-4 right-4 w-12 h-6 bg-white/5 rounded-full"></div>
       {/* Shimmer overlay */}
       <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full animate-[shimmer_1.5s_infinite]"></div>
    </div>
    
    {/* Content Section */}
    <div className="flex flex-col p-5 bg-[#09090b]">
        <div className="space-y-3 mb-6 animate-pulse">
            {/* Title */}
            <div className="h-6 w-3/4 bg-zinc-900 rounded-lg"></div>
            {/* Author */}
            <div className="h-3 w-1/3 bg-zinc-900 rounded-lg"></div>
        </div>
        
        {/* Footer */}
        <div className="flex items-center justify-between pt-4 border-t border-zinc-900 animate-pulse">
            <div className="flex gap-4">
                <div className="h-4 w-12 bg-zinc-900 rounded"></div>
                <div className="h-4 w-12 bg-zinc-900 rounded"></div>
            </div>
            {/* Circle Button */}
            <div className="w-8 h-8 rounded-full bg-zinc-900"></div>
        </div>
    </div>
  </div>
);

const TemplateGallery: React.FC<TemplateGalleryProps> = ({ templates, onMessageCreator, onView, onLike, isLoading }) => {
  const [activeFilter, setActiveFilter] = useState('All');
  const [searchQuery, setSearchQuery] = useState('');
  const [isFocused, setIsFocused] = useState(false);

  const handleFilterClick = (filter: string) => {
    playClickSound();
    setActiveFilter(filter);
  };

  const filteredTemplates = useMemo(() => {
    return templates.filter(t => {
        const matchesFilter = activeFilter === 'All' || t.category === activeFilter;
        const matchesSearch = 
            t.title.toLowerCase().includes(searchQuery.toLowerCase()) || 
            t.author.toLowerCase().includes(searchQuery.toLowerCase()) ||
            t.category.toLowerCase().includes(searchQuery.toLowerCase());
        
        return matchesFilter && matchesSearch;
    });
  }, [templates, activeFilter, searchQuery]);

  return (
    <section id="gallery" className="py-32 relative z-10 bg-black">
      <div className="container mx-auto px-6 md:px-12 max-w-[90rem]">
        
        {/* Floating Filter Dock */}
        <ScrollReveal>
            <div className="sticky top-24 z-40 flex justify-center mb-24 px-4 w-full">
                <div className={`
                    relative group transition-all duration-500 ease-[cubic-bezier(0.25,1,0.5,1)]
                    p-2 bg-[#050505]/80 backdrop-blur-2xl border border-white/[0.08] rounded-full 
                    flex flex-col md:flex-row gap-2 w-full max-w-4xl
                    shadow-[0_20px_40px_-10px_rgba(0,0,0,0.7),inset_0_1px_0_rgba(255,255,255,0.05)]
                    ${isFocused ? 'scale-[1.01] border-white/10 shadow-[0_30px_60px_-15px_rgba(0,0,0,0.8),inset_0_1px_0_rgba(255,255,255,0.1)]' : 'hover:border-white/10'}
                `}>
                    
                    {/* Premium Border Beam Effect */}
                    <BorderBeam size={200} duration={8} delay={0} borderWidth={1} colorFrom="#3b82f6" colorTo="#a855f7" className="opacity-70" />
                    
                    {/* Search Input Section */}
                    <div className="relative flex-1 group/search">
                         {/* Ambient Glow behind input */}
                         <div className={`
                            absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/5 to-transparent rounded-full opacity-0 blur-xl
                            ${isFocused ? 'opacity-100' : 'group-hover/search:opacity-50'} transition-opacity duration-500
                         `}></div>

                        <div className={`
                            relative h-12 flex items-center rounded-full border transition-all duration-300 overflow-hidden px-4
                            ${isFocused ? 'bg-black border-blue-500/30' : 'bg-white/[0.03] border-white/5 hover:border-white/10 hover:bg-white/[0.05]'}
                        `}>
                            <SearchIcon className={`w-5 h-5 mr-3 transition-colors duration-300 ${isFocused ? 'text-blue-400' : 'text-slate-500'}`} />
                            <input 
                                type="text" 
                                placeholder="Search templates, tags, creators..." 
                                value={searchQuery}
                                onChange={(e) => setSearchQuery(e.target.value)}
                                onFocus={() => setIsFocused(true)}
                                onBlur={() => setIsFocused(false)}
                                className="w-full h-full bg-transparent text-sm font-medium text-white placeholder-slate-500 focus:outline-none"
                            />
                            {searchQuery && (
                                <button 
                                    onClick={() => { setSearchQuery(''); playClickSound(); }}
                                    className="p-1 rounded-full hover:bg-white/10 text-slate-500 hover:text-white transition-colors animate-fade-in"
                                >
                                    <XIcon className="w-4 h-4" />
                                </button>
                            )}
                        </div>
                    </div>

                    {/* Divider (Desktop) */}
                    <div className="hidden md:block w-[1px] my-3 bg-white/10 mx-1"></div>

                    {/* Filters */}
                    <div className="hidden md:flex items-center gap-1 overflow-x-auto no-scrollbar px-1">
                        {filters.map((filter) => (
                            <button
                            key={filter}
                            onClick={() => handleFilterClick(filter)}
                            className={`
                                relative px-5 py-2.5 rounded-full text-[12px] font-bold tracking-wide transition-all duration-300 whitespace-nowrap overflow-hidden
                                ${activeFilter === filter
                                ? 'text-white bg-white/10 shadow-[inset_0_1px_0_rgba(255,255,255,0.1)]'
                                : 'text-slate-500 hover:text-slate-300 hover:bg-white/5'}
                            `}
                            >
                                <span className="relative z-10">{filter}</span>
                                {activeFilter === filter && (
                                    <div className="absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20 opacity-100"></div>
                                )}
                            </button>
                        ))}
                    </div>
                </div>
            </div>
        </ScrollReveal>

        {/* Grid */}
        {!isLoading && filteredTemplates.length === 0 ? (
            <ScrollReveal>
                <div className="min-h-[400px] flex flex-col items-center justify-center text-center border border-white/5 rounded-[2rem] bg-gradient-to-b from-white/[0.02] to-transparent p-12">
                    <div className="w-20 h-20 bg-white/5 rounded-full flex items-center justify-center mb-6 text-slate-500 border border-white/5 shadow-inner">
                        <NoResultsIcon className="w-8 h-8 opacity-50" />
                    </div>
                    <h4 className="text-xl font-bold text-white mb-2 tracking-tight">No results found</h4>
                    <p className="text-slate-500 max-w-md mb-8 text-sm leading-relaxed">We couldn't find any templates matching "{searchQuery}". Try adjusting your search or filters.</p>
                    <button 
                        onClick={() => { setSearchQuery(''); setActiveFilter('All'); playClickSound(); }}
                        className="px-8 py-3 bg-white text-black text-xs font-bold uppercase tracking-widest rounded-full hover:bg-slate-200 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.2)]"
                    >
                        Clear Filters
                    </button>
                </div>
            </ScrollReveal>
        ) : (
            <div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8 md:gap-12">
            {isLoading ? (
                Array.from({ length: 6 }).map((_, index) => <TemplateCardSkeleton key={index} style={{ animationDelay: `${index * 100}ms` }} />)
            ) : (
                filteredTemplates.map((template, index) => (
                    <ScrollReveal key={template.id} staggerIndex={index % 3}>
                        <TemplateCard 
                            {...template} 
                            onMessageCreator={onMessageCreator}
                            onView={() => onView(template.id)}
                            onLike={() => onLike(template.id)}
                        />
                    </ScrollReveal>
                ))
            )}
            </div>
        )}
      </div>
    </section>
  );
};

export default TemplateGallery;


=== components/TemplateCard.tsx ===
import React, { useState, useEffect, useRef } from 'react';
import { HeartIcon, EyeIcon, ArrowRightIcon } from './Icons';
import { playClickSound, playLikeSound } from '../audio';

interface TemplateCardProps {
  title: string;
  author: string;
  imageUrl: string;
  likes: number;
  views: number;
  isLiked: boolean;
  category: string;
  price?: string;
  onMessageCreator: (authorName: string) => void;
  onView: () => void;
  onLike: () => void;
}

const TemplateCard: React.FC<TemplateCardProps> = ({ 
  title, 
  author, 
  imageUrl, 
  likes, 
  views, 
  isLiked, 
  category, 
  price = 'Free', 
  onView, 
  onLike 
}) => {
  const [likeBump, setLikeBump] = useState(false);
  const isFirstRender = useRef(true);

  // Trigger pop animation when 'likes' prop changes
  useEffect(() => {
    if (isFirstRender.current) {
        isFirstRender.current = false;
        return;
    }
    setLikeBump(true);
    const timer = setTimeout(() => setLikeBump(false), 200);
    return () => clearTimeout(timer);
  }, [likes]);
  
  const handleLike = (e: React.MouseEvent) => {
    e.stopPropagation();
    if (!isLiked) playLikeSound();
    else playClickSound();
    onLike();
  };

  const handleCardClick = () => {
    playClickSound();
    onView();
  };

  return (
    <div
      className="group relative flex flex-col bg-[#09090b] rounded-[24px] border border-zinc-900 overflow-hidden transition-all duration-300 active:scale-95 active:border-zinc-700 cursor-pointer shadow-sm hover:shadow-[0_0_40px_-10px_rgba(255,255,255,0.05)]"
      onClick={handleCardClick}
    >
        {/* Image Section */}
        <div className="relative aspect-[4/3] w-full overflow-hidden bg-[#111]">
            <img 
                src={imageUrl} 
                alt={title}
                className="w-full h-full object-cover transition-transform duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] group-active:scale-105 group-hover:scale-105"
            />
            
            {/* Overlay Gradient */}
            <div className="absolute inset-0 bg-gradient-to-t from-[#09090b] via-transparent to-transparent opacity-20 group-hover:opacity-40 transition-opacity" />
            
            {/* Top Badges */}
            <div className="absolute top-4 left-4 flex gap-2">
                 <div className="px-3 py-1.5 rounded-full text-[10px] font-bold uppercase tracking-wider bg-black/60 backdrop-blur-md border border-white/10 text-white">
                    {category}
                 </div>
            </div>

            <div className="absolute top-4 right-4">
                <div className={`px-3 py-1.5 rounded-full text-[11px] font-bold backdrop-blur-md border border-white/10 shadow-lg ${price === 'Free' ? 'bg-white text-black' : 'bg-blue-600 text-white'}`}>
                    {price}
                </div>
            </div>
        </div>

        {/* Content Section */}
        <div className="flex flex-col p-5 bg-[#09090b]">
            <div className="flex justify-between items-start mb-4">
                <div>
                    <h3 className="text-white font-bold text-lg leading-tight mb-1.5 line-clamp-1">{title}</h3>
                    <div className="flex items-center gap-2 group/author">
                        <span className="text-xs text-zinc-500 font-medium">by {author}</span>
                    </div>
                </div>
            </div>

            {/* Footer / Stats */}
            <div className="flex items-center justify-between pt-4 border-t border-zinc-900">
                <div className="flex items-center gap-5">
                     <button 
                        onClick={handleLike}
                        className={`flex items-center gap-1.5 text-xs font-semibold transition-colors px-2 py-1 -ml-2 rounded-lg active:bg-white/5 ${isLiked ? 'text-rose-500' : 'text-zinc-500'}`}
                    >
                        <HeartIcon className={`w-4 h-4 ${isLiked ? 'fill-current' : ''}`} />
                        <span className={`inline-block transition-transform duration-200 ${likeBump ? 'scale-150 font-bold text-rose-400' : 'scale-100'}`}>
                            {likes}
                        </span>
                    </button>
                    
                    <div className="flex items-center gap-1.5 text-xs font-semibold text-zinc-500">
                        <EyeIcon className="w-4 h-4" />
                        <span>{views >= 1000 ? (views/1000).toFixed(1) + 'k' : views}</span>
                    </div>
                </div>
                
                {/* Mobile Call to Action Arrow */}
                <div className="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-slate-400 group-active:bg-blue-600 group-active:text-white transition-colors">
                    <ArrowRightIcon className="w-4 h-4" />
                </div>
            </div>
        </div>
    </div>
  );
};

export default TemplateCard;


=== components/Icons.tsx ===

import React from 'react';

type IconProps = React.SVGProps<SVGSVGElement>;

export const UploadIcon: React.FC<IconProps> = (props) => (
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
    <path strokeLinecap="round" strokeLinejoin="round" d="M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z" />
  </svg>
);

export const ArrowRightIcon: React.FC<IconProps> = (props) => (
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
    <path strokeLinecap="round" strokeLinejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
  </svg>
);

export const ArrowLeftIcon: React.FC<IconProps> = (props) => (
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
    <path strokeLinecap="round" strokeLinejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
  </svg>
);

export const HeartIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
    </svg>
);

export const EyeIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" />
        <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
    </svg>
);

export const LightbulbIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-1.555c1.124-1.33 1.5-3.218 1.5-5.195a4.5 4.5 0 0 0-9 0c0 1.977.376 3.865 1.5 5.195A6.01 6.01 0 0 0 12 12.75Zm0 0a6.01 6.01 0 0 1-1.5-1.555M12 12.75v5.25m0 0a3 3 0 0 1-3-3h6a3 3 0 0 1-3 3Z" />
    </svg>
);

export const GlobeIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Z" />
        <path strokeLinecap="round" strokeLinejoin="round" d="M3.25 9.75h17.5M3.25 14.25h17.5M9.75 3.25c.621 2.368 1.25 4.75 1.25 7.125s-.629 4.757-1.25 7.125M14.25 3.25c-.621 2.368-1.25 4.75-1.25 7.125s.629 4.757 1.25 7.125" />
    </svg>
);

export const RocketIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.82m5.84-2.56a14.953 14.953 0 0 0-12.23 0M15.59 14.37A14.953 14.953 0 0 1 21.8 12m-6.21-2.37A6 6 0 0 0 3.81 12m11.78 2.37A14.953 14.953 0 0 1 8.2 17.18" />
    </svg>
);

export const TwitterIcon: React.FC<IconProps> = (props) => (
    <svg fill="currentColor" viewBox="0 0 24 24" {...props}>
        <path d="M22.46 6c-.77.35-1.6.58-2.46.67.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.58-.7-.02-1.37-.21-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z" />
    </svg>
);

export const DribbbleIcon: React.FC<IconProps> = (props) => (
    <svg fill="currentColor" viewBox="0 0 24 24" {...props}>
        <path fillRule="evenodd" d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10c.337 0 .67-.018.998-.052A8.01 8.01 0 0110 14a8 8 0 018-8 .04.04 0 01.002 0c.05-.328.077-.66.077-1a10.005 10.005 0 00-6.078-9.213A10.023 10.023 0 0012 2zm6.937 4.31a8.001 8.001 0 01-2.92 10.99A10.001 10.001 0 0022 12c0-1.78-.465-3.45-1.27-4.938a8.04 8.04 0 01-1.793-.752zM6.063 17.69a8.001 8.001 0 0110.99-2.92A10.001 10.001 0 0012 22a9.96 9.96 0 00-7.165-3.085 8.04 8.04 0 011.228-1.225z" clipRule="evenodd" />
    </svg>
);

export const GithubIcon: React.FC<IconProps> = (props) => (
    <svg fill="currentColor" viewBox="0 0 24 24" {...props}>
        <path fillRule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.165 6.839 9.492.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.942.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clipRule="evenodd" />
    </svg>
);

export const MessageIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193l-3.72.15c-.53.022-.98.223-1.32.506l-2.433 2.165a.75.75 0 0 1-1.06 0l-2.433-2.165a2.25 2.25 0 0 0-1.32-.506l-3.72-.15A2.25 2.25 0 0 1 3 14.894V10.608c0-.97.616-1.813 1.5-2.097m14.25-3.866A2.25 2.25 0 0 0 16.5 4.5h-9a2.25 2.25 0 0 0-2.25 2.25v.09C5.56 7.1 5.25 7.5 5.25 8v.5a.75.75 0 0 0 .75.75h12a.75.75 0 0 0 .75-.75V8c0-.5-.31-1.09-.5-1.343V6.75Z" />
    </svg>
);

export const XIcon: React.FC<IconProps> = (props) => (
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
    <path strokeLinecap="round" strokeLinejoin="round" d="M6 18 18 6M6 6l12 12" />
  </svg>
);

export const SendIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5" />
    </svg>
);

export const GoogleIcon: React.FC<IconProps> = (props) => (
  <svg viewBox="0 0 48 48" {...props}>
    <path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12
      s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24
      s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path>
    <path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657
      C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path>
    <path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36
      c-5.222,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path>
    <path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571
      c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path>
  </svg>
);

export const SearchIcon: React.FC<IconProps> = (props) => (
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
    <path strokeLinecap="round" strokeLinejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
  </svg>
);

export const NoResultsIcon: React.FC<IconProps> = (props) => (
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
    <path strokeLinecap="round" strokeLinejoin="round" d="M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z" />
  </svg>
);

export const LockIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z" />
    </svg>
);

export const CheckCircleIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
    </svg>
);

export const LayersIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3" />
    </svg>
);

export const SmartphoneIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
    </svg>
);

export const PaletteIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a16.001 16.001 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42" />
    </svg>
);

export const CpuIcon: React.FC<IconProps> = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z" />
    </svg>
);


=== components/WhyTemplr.tsx ===
import React, { useRef, useState } from 'react';
import { LayersIcon, SmartphoneIcon, CheckCircleIcon, PaletteIcon, CpuIcon } from './Icons';
import { ScrollReveal } from './ScrollReveal';

// --- 3D TILT CARD WRAPPER ---
const TiltCard = ({ children, className = '', colSpan = 1 }: { children?: React.ReactNode, className?: string, colSpan?: number }) => {
    const ref = useRef<HTMLDivElement>(null);
    const [rotateX, setRotateX] = useState(0);
    const [rotateY, setRotateY] = useState(0);
    const [glowX, setGlowX] = useState(50);
    const [glowY, setGlowY] = useState(50);

    const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {
        if (!ref.current) return;
        const rect = ref.current.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        // Calculate rotation (max 10 degrees)
        const centerX = rect.width / 2;
        const centerY = rect.height / 2;
        const rotateXValue = ((y - centerY) / centerY) * -5; // Invert Y for natural tilt
        const rotateYValue = ((x - centerX) / centerX) * 5;

        setRotateX(rotateXValue);
        setRotateY(rotateYValue);
        setGlowX((x / rect.width) * 100);
        setGlowY((y / rect.height) * 100);
    };

    const handleMouseLeave = () => {
        setRotateX(0);
        setRotateY(0);
        setGlowX(50);
        setGlowY(50);
    };

    return (
        <div 
            className={`relative perspective-[1000px] group ${className}`}
            style={{ gridColumn: `span ${colSpan}` }}
            onMouseMove={handleMouseMove}
            onMouseLeave={handleMouseLeave}
        >
            <div 
                ref={ref}
                className="relative h-full w-full rounded-[32px] bg-[#0A0A0A] border border-white/5 transition-all duration-200 ease-out overflow-hidden shadow-2xl"
                style={{
                    transform: `rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1, 1, 1)`,
                    transformStyle: 'preserve-3d',
                }}
            >
                {/* Dynamic Spotlight Glow */}
                <div 
                    className="absolute inset-0 pointer-events-none mix-blend-soft-light opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-0"
                    style={{
                        background: `radial-gradient(circle at ${glowX}% ${glowY}%, rgba(255,255,255,0.1), transparent 80%)`
                    }}
                />
                
                {/* Content Container (Pushed slightly forward) */}
                <div className="relative z-10 h-full w-full flex flex-col transform-gpu" style={{ transform: 'translateZ(20px)' }}>
                    {children}
                </div>
            </div>
        </div>
    );
};

const WhyTemplr: React.FC = () => {
  return (
    <section id="features" className="py-24 bg-black relative overflow-hidden">
      
      {/* Deep Ambient Background */}
      <div className="absolute inset-0 bg-[#000000]">
          <div className="absolute top-[20%] right-[-10%] w-[600px] h-[600px] bg-blue-900/10 blur-[120px] rounded-full mix-blend-screen pointer-events-none animate-pulse-glow"></div>
          <div className="absolute bottom-[10%] left-[-10%] w-[500px] h-[500px] bg-purple-900/5 blur-[100px] rounded-full mix-blend-screen pointer-events-none"></div>
      </div>

      <div className="container mx-auto px-6 md:px-12 max-w-[90rem] relative z-10">
        
        <ScrollReveal>
          <div className="mb-20 max-w-3xl">
              <h2 className="text-5xl md:text-7xl font-bold text-white mb-6 tracking-tighter leading-[1] drop-shadow-2xl">
                  Built for the <br/>
                  <span className="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-white to-purple-400 animate-hue-cycle">impossible.</span>
              </h2>
              <p className="text-slate-400 text-xl leading-relaxed max-w-2xl font-light">
                  A hyper-optimized architecture designed for the next generation of the web.
              </p>
          </div>
        </ScrollReveal>
        
        {/* --- 3D BENTO GRID --- */}
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[450px]">
            
            {/* CARD 1: UPLOAD YOUR TEMPLATE (Premium 3D Composition) */}
            <ScrollReveal staggerIndex={1} className="md:col-span-2 row-span-1">
                <TiltCard colSpan={2} className="h-full group/card1">
                    {/* Background: Smooth frosted glass & Grid */}
                    <div className="absolute inset-0 bg-[#080808]">
                         <div className="absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:40px_40px] opacity-50"></div>
                         <div className="absolute inset-0 bg-gradient-to-br from-blue-900/10 via-transparent to-purple-900/10 opacity-50"></div>
                    </div>
                    
                    {/* Content */}
                    <div className="relative z-20 w-full h-full flex flex-col items-center justify-center text-center p-8">
                        
                         {/* Orbiting Elements (Floating dots) */}
                         <div className="absolute inset-0 pointer-events-none flex items-center justify-center">
                             <div className="w-[300px] h-[300px] rounded-full border border-dashed border-white/5 animate-[spin_30s_linear_infinite]">
                                  {/* Dot 1 */}
                                  <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-blue-500 rounded-full shadow-[0_0_15px_#3b82f6]"></div>
                                  {/* Dot 2 */}
                                  <div className="absolute bottom-[15%] left-[15%] w-1.5 h-1.5 bg-purple-500 rounded-full shadow-[0_0_15px_#a855f7]"></div>
                             </div>
                             <div className="absolute w-[200px] h-[200px] rounded-full border border-white/5 animate-[spin_20s_linear_infinite_reverse] opacity-50">
                                  <div className="absolute top-1/2 right-0 translate-x-1/2 -translate-y-1/2 w-1.5 h-1.5 bg-white rounded-full shadow-[0_0_10px_white]"></div>
                             </div>
                         </div>

                         {/* Central Icon */}
                         <div className="relative mb-8 group-hover:scale-110 transition-transform duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)]">
                             {/* Glow */}
                             <div className="absolute inset-0 bg-blue-500/20 blur-3xl rounded-full"></div>
                             
                             {/* Glass Container */}
                             <div className="relative w-28 h-28 bg-white/5 backdrop-blur-2xl border border-white/10 rounded-[2rem] flex items-center justify-center shadow-2xl">
                                  {/* Plus Icon */}
                                  <svg className="w-10 h-10 text-white drop-shadow-[0_2px_10px_rgba(255,255,255,0.2)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="1.5">
                                      <path strokeLinecap="round" strokeLinejoin="round" d="M12 6v12m6-6H6" />
                                  </svg>
                                  
                                  {/* File Badge */}
                                  <div className="absolute -top-3 -right-3 px-3 py-1 bg-[#1a1a1a] border border-white/10 rounded-lg shadow-lg flex items-center gap-1.5 transform rotate-6 group-hover:rotate-12 transition-transform duration-500">
                                      <div className="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></div>
                                      <span className="text-[9px] font-mono font-bold text-white">ZIP</span>
                                  </div>
                             </div>
                         </div>

                         {/* Text */}
                         <div className="space-y-2">
                             <h3 className="text-3xl font-bold text-white tracking-tight">Upload Your Template</h3>
                             <p className="text-slate-400 text-sm font-medium tracking-wide">Share your landing page in seconds</p>
                         </div>
                    </div>

                    {/* Progress Bar (Bottom Edge) */}
                    <div className="absolute bottom-0 left-0 right-0 px-8 pb-8">
                        <div className="flex items-center justify-between text-[10px] font-mono font-bold text-slate-500 mb-2 uppercase tracking-wider">
                            <span>Uploading Assets...</span>
                            <span className="text-blue-400">100%</span>
                        </div>
                        <div className="h-1.5 w-full bg-white/5 rounded-full overflow-hidden">
                             <div className="h-full bg-gradient-to-r from-blue-600 via-cyan-400 to-blue-600 w-full animate-[shimmer_2s_infinite]"></div>
                        </div>
                    </div>
                </TiltCard>
            </ScrollReveal>


            {/* CARD 2: HOLOGRAPHIC DEVICES (Glass Planes) */}
            <ScrollReveal staggerIndex={2} className="md:col-span-1 row-span-1">
                <TiltCard className="h-full">
                    <div className="absolute inset-0 bg-gradient-to-b from-purple-950/20 via-black to-black"></div>
                    
                    <div className="p-8 h-full flex flex-col relative z-10 overflow-hidden">
                        <div className="w-12 h-12 rounded-xl bg-purple-500/10 border border-purple-500/20 flex items-center justify-center mb-6 text-purple-400 shadow-[0_0_15px_rgba(168,85,247,0.3)]">
                            <SmartphoneIcon className="w-6 h-6" />
                        </div>
                        <h3 className="text-2xl font-bold text-white mb-2">Liquid Response</h3>
                        <p className="text-slate-400 text-sm">
                            Fluid layouts that adapt to any glass rectangle.
                        </p>

                        {/* 3D GLASS PANES */}
                        <div className="absolute inset-0 top-[40%] perspective-[800px] flex items-center justify-center pointer-events-none">
                            <div className="relative w-40 h-56 transform-style-3d animate-float-slow">
                                {/* Back Plane (Tablet) */}
                                <div className="absolute top-0 left-[-40px] w-48 h-32 rounded-xl bg-white/5 border border-white/10 backdrop-blur-sm transform translate-z-[-40px] rotate-y-[-15deg] group-hover:rotate-y-[-25deg] transition-transform duration-500"></div>
                                
                                {/* Middle Plane (Mobile) */}
                                <div className="absolute top-0 left-0 w-full h-full rounded-2xl bg-gradient-to-br from-purple-500/20 to-transparent border border-white/20 backdrop-blur-md shadow-[0_20px_40px_-10px_rgba(0,0,0,0.5)] transform translate-z-[0px] group-hover:scale-105 transition-transform duration-500 flex flex-col p-3 gap-2">
                                    <div className="w-1/2 h-2 rounded-full bg-white/20"></div>
                                    <div className="w-full h-20 rounded-lg bg-white/5 border border-white/5"></div>
                                    <div className="flex gap-2">
                                        <div className="w-1/2 h-16 rounded-lg bg-purple-500/20"></div>
                                        <div className="w-1/2 h-16 rounded-lg bg-white/5"></div>
                                    </div>
                                </div>

                                {/* Front Plane (Floating UI Element) */}
                                <div className="absolute bottom-[-20px] right-[-30px] w-24 h-24 rounded-2xl bg-white/10 border border-white/30 backdrop-blur-xl shadow-2xl transform translate-z-[40px] rotate-y-[15deg] group-hover:translate-z-[60px] group-hover:rotate-y-[25deg] transition-transform duration-500 flex items-center justify-center">
                                    <div className="w-8 h-8 rounded-full bg-purple-500 shadow-[0_0_20px_rgba(168,85,247,0.5)] animate-pulse"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </TiltCard>
            </ScrollReveal>


            {/* CARD 3: QUANTUM CORE (Advanced Reactor) */}
            <ScrollReveal staggerIndex={3} className="md:col-span-1 row-span-1">
                <TiltCard className="h-full">
                    <div className="absolute inset-0 bg-[radial-gradient(circle_at_bottom_left,_var(--tw-gradient-stops))] from-emerald-950/40 via-black to-black"></div>
                    
                    <div className="p-8 h-full flex flex-col relative z-10 overflow-hidden">
                        <div className="w-12 h-12 rounded-xl bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center mb-6 text-emerald-400 shadow-[0_0_15px_rgba(16,185,129,0.3)]">
                            <CpuIcon className="w-6 h-6" />
                        </div>
                        <h3 className="text-2xl font-bold text-white mb-2">Quantum Core</h3>
                        <p className="text-slate-400 text-sm">
                             Next-gen multi-threaded render engine.
                        </p>

                        {/* 3D QUANTUM ENGINE */}
                        <div className="absolute inset-0 top-[20%] flex items-center justify-center perspective-[600px] pointer-events-none">
                             <div className="relative w-40 h-40 transform-style-3d group-hover:scale-125 transition-transform duration-700">
                                 
                                 {/* Tesseract Cube (Inner) */}
                                 <div className="absolute inset-10 transform-style-3d animate-[spin_4s_linear_infinite]">
                                     <div className="absolute inset-0 border border-emerald-400/40 bg-emerald-500/10 backdrop-blur-sm transform translate-z-10"></div>
                                     <div className="absolute inset-0 border border-emerald-400/40 bg-emerald-500/10 backdrop-blur-sm transform translate-z-[-10px]"></div>
                                     <div className="absolute inset-0 border border-emerald-400/40 bg-emerald-500/10 backdrop-blur-sm transform rotate-y-90 translate-z-10"></div>
                                     <div className="absolute inset-0 border border-emerald-400/40 bg-emerald-500/10 backdrop-blur-sm transform rotate-x-90 translate-z-10"></div>
                                 </div>

                                 {/* Orbital Rings (Gyroscope) */}
                                 <div className="absolute inset-0 rounded-full border border-emerald-500/30 animate-[spin_8s_linear_infinite_reverse] shadow-[0_0_20px_rgba(16,185,129,0.2)]"></div>
                                 <div className="absolute inset-[-10px] rounded-full border border-dashed border-emerald-400/20 animate-[spin_12s_linear_infinite] rotate-45"></div>
                                 <div className="absolute inset-[-20px] rounded-full border-t border-b border-emerald-300/10 animate-[spin_15s_linear_infinite_reverse] rotate-90"></div>

                                 {/* Central Singularity */}
                                 <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full shadow-[0_0_30px_white] animate-pulse"></div>
                                 
                                 {/* Data Particles */}
                                 <div className="absolute top-0 left-1/2 w-1 h-1 bg-emerald-400 shadow-[0_0_10px_white] rounded-full animate-float-delayed"></div>
                                 <div className="absolute bottom-0 right-1/2 w-1.5 h-1.5 bg-emerald-300 shadow-[0_0_10px_white] rounded-full animate-float-slow"></div>
                             </div>
                        </div>
                    </div>
                </TiltCard>
            </ScrollReveal>


            {/* CARD 4: THE VOID STREAM (Infinite Parallax) */}
            <ScrollReveal staggerIndex={4} className="md:col-span-2 row-span-1">
                <TiltCard colSpan={2} className="h-full overflow-hidden">
                    <div className="absolute inset-0 bg-gradient-to-b from-black via-black to-amber-950/20"></div>
                    
                    {/* Content Overlay */}
                    <div className="absolute top-0 left-0 right-0 p-10 z-20 bg-gradient-to-b from-black via-black/80 to-transparent">
                        <div className="w-12 h-12 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-center justify-center mb-4 text-amber-400 shadow-[0_0_15px_rgba(245,158,11,0.3)]">
                            <PaletteIcon className="w-6 h-6" />
                        </div>
                        <h3 className="text-3xl font-bold text-white mb-1">Infinite Possibilities</h3>
                        <p className="text-slate-400 text-sm max-w-md">
                            A curated universe of high-fidelity designs.
                        </p>
                    </div>
                    
                    {/* INFINITE PARALLAX COLUMNS */}
                    <div className="absolute inset-0 flex gap-4 justify-end opacity-50 mask-linear-fade pl-[40%] perspective-[600px] overflow-hidden group-hover:opacity-80 transition-opacity duration-500">
                        {/* Gradient Mask for bottom fade */}
                        <div className="absolute bottom-0 inset-x-0 h-40 bg-gradient-to-t from-black to-transparent z-10"></div>
                        
                        {/* Column 1 (Slow Up) */}
                        <div className="w-32 flex flex-col gap-4 animate-[gridFlow_20s_linear_infinite]">
                            {Array.from({ length: 6 }).map((_, i) => (
                                <div key={i} className="h-40 w-full rounded-xl bg-white/5 border border-white/5 relative overflow-hidden shadow-2xl">
                                    <div className="absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"></div>
                                    <div className="absolute bottom-2 left-2 w-8 h-8 rounded-full bg-amber-500/20"></div>
                                </div>
                            ))}
                        </div>

                        {/* Column 2 (Fast Down - Main Focus) */}
                        <div className="w-40 flex flex-col gap-4 animate-[gridFlow_15s_linear_infinite_reverse] pt-10">
                             {Array.from({ length: 6 }).map((_, i) => (
                                <div key={i} className="h-56 w-full rounded-xl bg-[#111] border border-white/10 relative overflow-hidden shadow-[0_0_30px_rgba(0,0,0,0.5)] transform hover:scale-105 transition-transform duration-300">
                                    <div className="absolute top-0 inset-x-0 h-1/2 bg-white/5"></div>
                                    <div className="absolute bottom-3 right-3 px-2 py-1 rounded bg-amber-500/20 text-amber-400 text-[10px] font-bold border border-amber-500/30">PRO</div>
                                </div>
                            ))}
                        </div>

                        {/* Column 3 (Medium Up) */}
                         <div className="w-32 flex flex-col gap-4 animate-[gridFlow_18s_linear_infinite]">
                            {Array.from({ length: 6 }).map((_, i) => (
                                <div key={i} className="h-32 w-full rounded-xl bg-white/5 border border-white/5 relative overflow-hidden opacity-60">
                                    <div className="absolute inset-0 bg-gradient-to-tl from-amber-900/20 to-transparent"></div>
                                </div>
                            ))}
                        </div>
                    </div>
                </TiltCard>
            </ScrollReveal>

        </div>

      </div>

      <style>{`
          @keyframes fluxWave {
            0%, 100% { height: 40%; opacity: 0.6; }
            50% { height: 90%; opacity: 1; filter: drop-shadow(0 0 10px cyan); }
          }
      `}</style>
    </section>
  );
};

export default WhyTemplr;


=== components/FeaturedCreators.tsx ===
import React, { useRef, useState, useEffect } from 'react';
import { playClickSound } from '../audio';
import { ScrollReveal } from './ScrollReveal';

const creators = [
  { name: 'Eva Neuro', handle: '@evaneuro', role: 'UI/UX Specialist', imageUrl: 'https://i.pravatar.cc/150?u=a042581f4e29026704d' },
  { name: 'Liam Cygnus', handle: '@liamcygnus', role: 'Frontend Wizard', imageUrl: 'https://i.pravatar.cc/150?u=a042581f4e29026705d' },
  { name: 'Nova Synth', handle: '@novasynth', role: 'Motion Designer', imageUrl: 'https://i.pravatar.cc/150?u=a042581f4e29026706d' },
  { name: 'Jax Orion', handle: '@jaxorion', role: 'Web3 Developer', imageUrl: 'https://i.pravatar.cc/150?u=a042581f4e29026707d' },
];

const FeaturedCreators: React.FC = () => {
  return (
    <section className="py-32 bg-black border-t border-white/5 overflow-hidden">
      <div className="container mx-auto px-6 md:px-12 max-w-[90rem]">
        
        <ScrollReveal>
            <div className="flex flex-col items-center text-center mb-20">
                <h3 className="text-4xl font-bold text-white mb-4 tracking-tight">Featured Creators</h3>
                <p className="text-slate-400">Top talents shaping the visual web.</p>
            </div>
        </ScrollReveal>
        
        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
          {creators.map((creator, index) => (
            <ScrollReveal key={creator.name} staggerIndex={index}>
                <div className="group relative flex flex-col items-center text-center p-8 rounded-[2rem] bg-[#050505] border border-white/[0.06] hover:border-white/[0.15] transition-all duration-500 hover:translate-y-[-8px]">
                    
                    <div className="relative mb-6">
                        {/* Glow ring */}
                        <div className="absolute -inset-1 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full opacity-0 group-hover:opacity-50 blur-md transition-opacity duration-500"></div>
                        
                        <div className="relative w-24 h-24 rounded-full overflow-hidden border-2 border-black group-hover:border-white/20 transition-colors">
                            <img
                                src={creator.imageUrl}
                                alt={creator.name}
                                className="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500"
                            />
                        </div>
                    </div>
                    
                    <h4 className="font-bold text-lg text-white mb-1">{creator.name}</h4>
                    <p className="text-xs font-mono text-blue-400 uppercase tracking-wider mb-6">{creator.role}</p>
                    
                    <button className="px-6 py-2 rounded-full text-xs font-bold border border-white/10 bg-white/5 text-slate-300 hover:bg-white hover:text-black hover:border-white transition-all duration-300 opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0">
                        View Profile
                    </button>
                </div>
            </ScrollReveal>
          ))}
        </div>
      </div>
    </section>
  );
};

export default FeaturedCreators;


=== components/CTA.tsx ===
import React from 'react';
import { playClickSound } from '../audio';
import { ScrollReveal } from './ScrollReveal';

const CTA: React.FC = () => {
  const handleGetStarted = () => {
    playClickSound();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  };

  return (
    <section className="py-40 relative overflow-hidden bg-black">
      
      {/* Giant Glow */}
      <div className="absolute bottom-0 left-1/2 -translate-x-1/2 w-[1000px] h-[500px] bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-blue-900/40 via-black to-black blur-[100px] pointer-events-none"></div>

      <div className="container mx-auto px-6 relative z-10 text-center">
        <ScrollReveal>
            <div className="max-w-4xl mx-auto">
            <h3 className="text-6xl md:text-9xl font-bold text-white mb-8 tracking-tighter leading-[0.9]">
                Ship your <br/>
                <span className="text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-600">next idea.</span>
            </h3>
            <p className="text-xl md:text-2xl text-slate-500 mb-12 font-light max-w-2xl mx-auto">
                Join the thousands of developers building the future with Templr.
            </p>
            
            <div className="flex justify-center">
                <button 
                onClick={handleGetStarted}
                className="group relative px-12 py-5 bg-white text-black font-bold text-sm uppercase tracking-widest rounded-full hover:scale-105 transition-all duration-300 overflow-hidden"
                >
                <div className="absolute inset-0 bg-gradient-to-r from-transparent via-slate-200 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"></div>
                <span className="relative z-10">Start Building</span>
                </button>
            </div>
            </div>
        </ScrollReveal>
      </div>
    </section>
  );
};

export default CTA;


=== components/Footer.tsx ===
import React from 'react';
import { TwitterIcon, DribbbleIcon, GithubIcon } from './Icons';
import { playTypingSound, playClickSound } from '../audio';
import { ScrollReveal } from './ScrollReveal';

interface FooterProps {
  onShowNotification: (message: string) => void;
}

const Footer: React.FC<FooterProps> = ({ onShowNotification }) => {
  const handleAction = (e: React.MouseEvent, action: string, type: 'scroll' | 'notify' | 'link' = 'notify') => {
    e.preventDefault();
    playClickSound();
    
    if (type === 'scroll') {
        const element = document.getElementById(action);
        if (element) {
            element.scrollIntoView({ behavior: 'smooth' });
        }
    } else if (type === 'link') {
        window.open(action, '_blank');
    } else {
        onShowNotification(action);
    }
  };

  return (
    <footer className="bg-[#030304] border-t border-white/[0.08] pt-20 pb-10">
      <div className="container mx-auto px-6">
        
        <ScrollReveal>
            <div className="flex flex-col md:flex-row justify-between items-start gap-12 mb-20">
                <div className="max-w-xs">
                    <h4 className="text-white font-bold text-xl mb-4 tracking-tight">Templr</h4>
                    <p className="text-slate-500 text-sm leading-relaxed">
                        The high-performance template marketplace for the modern web.
                    </p>
                </div>
                
                <div className="flex gap-16 text-sm">
                    <div className="flex flex-col gap-4">
                        <span className="text-white font-semibold">Product</span>
                        <a href="#features" onClick={(e) => handleAction(e, 'features', 'scroll')} className="text-slate-500 hover:text-white transition-colors">Features</a>
                        <a href="#" onClick={(e) => handleAction(e, 'Pricing: Pro Plan starts at $29/mo.')} className="text-slate-500 hover:text-white transition-colors">Pricing</a>
                        <a href="#" onClick={(e) => handleAction(e, 'Latest Version: v2.4.0 (Stable)')} className="text-slate-500 hover:text-white transition-colors">Changelog</a>
                    </div>
                    <div className="flex flex-col gap-4">
                        <span className="text-white font-semibold">Company</span>
                        <a href="#" onClick={(e) => handleAction(e, 'Templr: Founded in 2024 by Designers.')} className="text-slate-500 hover:text-white transition-colors">About</a>
                        <a href="#" onClick={(e) => handleAction(e, 'We are currently fully staffed!')} className="text-slate-500 hover:text-white transition-colors">Careers</a>
                        <a href="#" onClick={(e) => handleAction(e, 'All systems operational. Data secure.')} className="text-slate-500 hover:text-white transition-colors">Legal</a>
                    </div>
                </div>
            </div>

            <div className="flex flex-col md:flex-row justify-between items-center pt-8 border-t border-white/[0.08]">
                <p className="text-slate-600 text-xs"> 2024 Templr Inc.</p>
                <div className="flex gap-6 mt-4 md:mt-0">
                    <a href="https://twitter.com" onClick={(e) => handleAction(e, 'https://twitter.com', 'link')} className="text-slate-500 hover:text-white transition-colors"><TwitterIcon className="w-4 h-4" /></a>
                    <a href="https://github.com" onClick={(e) => handleAction(e, 'https://github.com', 'link')} className="text-slate-500 hover:text-white transition-colors"><GithubIcon className="w-4 h-4" /></a>
                    <a href="https://dribbble.com" onClick={(e) => handleAction(e, 'https://dribbble.com', 'link')} className="text-slate-500 hover:text-white transition-colors"><DribbbleIcon className="w-4 h-4" /></a>
                </div>
            </div>
        </ScrollReveal>
      </div>
    </footer>
  );
};

export default Footer;


=== components/ChatModal.tsx ===
import React, { useState, useEffect, useRef, memo, useCallback } from 'react';
import { XIcon, SendIcon } from './Icons';
import { playClickSound, playTypingSound } from '../audio';

interface ChatModalProps {
  isOpen: boolean;
  onClose: () => void;
  creatorName: string;
}

interface Message {
  id: number;
  text: string;
  sender: 'user' | 'creator';
  time: string;
}

const EmojiIcon = (props: React.SVGProps<SVGSVGElement>) => (
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
    <path strokeLinecap="round" strokeLinejoin="round" d="M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z" />
  </svg>
);

const PaperClipIcon = (props: React.SVGProps<SVGSVGElement>) => (
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
    <path strokeLinecap="round" strokeLinejoin="round" d="m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13" />
  </svg>
);

// Memoized Background to prevent re-renders
// Added will-change-transform to help browser compositor
const ChatBackground = memo(() => (
  <div className="absolute inset-0 overflow-hidden pointer-events-none transform-gpu">
      <div className="absolute top-[-10%] left-[-20%] w-[80%] h-[60%] bg-blue-500/20 blur-[90px] rounded-full mix-blend-screen animate-blob will-change-transform"></div>
      <div className="absolute bottom-[-10%] right-[-10%] w-[80%] h-[60%] bg-cyan-500/10 blur-[80px] rounded-full mix-blend-screen animate-blob animation-delay-2000 will-change-transform"></div>
      <div className="absolute top-[40%] left-[30%] w-[40%] h-[40%] bg-purple-500/10 blur-[60px] rounded-full mix-blend-screen animate-blob animation-delay-4000 will-change-transform"></div>
  </div>
));

// Extracted Input Dock Component to isolate typing state
// Added transform-gpu to isolate the blur filter repaint
const ChatInputDock = memo(({ onSendMessage }: { onSendMessage: (text: string) => void }) => {
  const [text, setText] = useState('');

  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {
      playTypingSound();
      if (event.key === 'Enter') {
          handleSend();
      }
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
      setText(e.target.value);
  };

  const handleSend = () => {
      if (text.trim()) {
          onSendMessage(text);
          setText('');
      }
  };

  return (
    <div className="p-5 pt-2 relative z-20 bg-gradient-to-t from-[#0f111a] to-transparent">
      <div className="relative flex items-center gap-2 p-1.5 bg-white/5 backdrop-blur-xl border border-white/10 rounded-[32px] shadow-[0_10px_30px_rgba(0,0,0,0.5),inset_0_1px_1px_rgba(255,255,255,0.05)] transition-all focus-within:bg-white/10 focus-within:border-white/20 focus-within:shadow-[0_15px_40px_rgba(0,0,0,0.6),inset_0_1px_1px_rgba(255,255,255,0.1)] transform-gpu">
        
        {/* Icons */}
        <div className="flex gap-1 pl-2 flex-shrink-0">
            <button onClick={playClickSound} className="p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-full transition-all">
                <EmojiIcon className="w-5 h-5" />
            </button>
            <button onClick={playClickSound} className="p-2 text-slate-400 hover:text-white hover:bg-white/10 rounded-full transition-all">
                <PaperClipIcon className="w-5 h-5" />
            </button>
        </div>

        {/* Input */}
        <input 
          type="text"
          value={text}
          onChange={handleChange}
          onKeyDown={handleKeyDown}
          placeholder="Type a message..."
          className="flex-1 min-w-0 bg-transparent py-3 text-[15px] font-medium text-white placeholder-slate-400/60 focus:outline-none px-2"
          autoFocus
        />
        
        {/* Glowing Send Orb */}
        <button 
          onClick={() => { playClickSound(); handleSend(); }}
          disabled={!text.trim()}
          className="flex-shrink-0 group relative w-11 h-11 flex items-center justify-center rounded-full bg-gradient-to-br from-cyan-500 to-blue-600 shadow-[0_5px_15px_rgba(6,182,212,0.4),inset_0_2px_2px_rgba(255,255,255,0.4)] transition-all hover:scale-105 hover:shadow-[0_8px_20px_rgba(6,182,212,0.6),inset_0_2px_2px_rgba(255,255,255,0.6)] active:scale-95 disabled:opacity-50 disabled:shadow-none disabled:cursor-not-allowed"
        >
          <SendIcon className="w-5 h-5 text-white drop-shadow-md translate-x-0.5" />
        </button>
      </div>
    </div>
  );
});

const ChatModal: React.FC<ChatModalProps> = ({ isOpen, onClose, creatorName }) => {
  const [messages, setMessages] = useState<Message[]>([
    {
      id: 1,
      sender: 'creator',
      text: `Hello! Thanks for viewing my work. How can I help you today?`,
      time: 'Just now'
    }
  ]);
  const [isTyping, setIsTyping] = useState(false);
  
  const modalRef = useRef<HTMLDivElement>(null);
  const chatBodyRef = useRef<HTMLDivElement>(null);
  const avatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(creatorName)}&background=334155&color=e2e8f0&bold=true`;

  useEffect(() => {
    if (chatBodyRef.current) {
      chatBodyRef.current.scrollTo({
        top: chatBodyRef.current.scrollHeight,
        behavior: 'smooth'
      });
    }
  }, [messages, isTyping]);

  useEffect(() => {
    const handleEsc = (event: KeyboardEvent) => {
      if (event.key === 'Escape') onClose();
    };
    if (isOpen) window.addEventListener('keydown', handleEsc);
    return () => window.removeEventListener('keydown', handleEsc);
  }, [isOpen, onClose]);

  // Memoize handleSendMessage to ensure ChatInputDock doesn't re-render unnecessarily
  const handleSendMessage = useCallback((text: string) => {
    playClickSound();
    const now = new Date();
    const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

    const newMessage: Message = { id: Date.now(), text, sender: 'user', time: timeString };
    setMessages(prevMessages => [...prevMessages, newMessage]);
    setIsTyping(true);

    setTimeout(() => {
      setIsTyping(false);
      const reply: Message = { 
        id: Date.now() + 1,
        text: "That sounds great! I'm available for freelance work if you need customizations.", 
        sender: 'creator',
        time: new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
      };
      setMessages(prevMessages => [...prevMessages, reply]);
      playTypingSound(); 
    }, 2500);
  }, []);
  
  if (!isOpen) return null;

  return (
    <div 
      className="fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm transition-all duration-500"
      onClick={onClose}
    >
      <div 
        ref={modalRef}
        className="relative w-full max-w-[420px] h-[800px] max-h-[90vh] flex flex-col rounded-[3rem] shadow-[0_25px_50px_-12px_rgba(0,0,0,0.7)] overflow-hidden transform transition-all duration-500 animate-fade-in-scale border border-white/10 transform-gpu"
        onClick={(e) => e.stopPropagation()}
        style={{
            background: 'linear-gradient(180deg, #0a0f1e 0%, #111827 100%)'
        }}
      >
        <ChatBackground />

        {/* --- Header --- */}
        <div className="relative z-20 px-6 py-5 bg-white/5 backdrop-blur-md border-b border-white/5 flex items-center justify-between shadow-lg shadow-black/20 transform-gpu">
          <div className="flex items-center gap-4">
             <div className="relative">
                {/* Avatar Glow */}
                <div className="absolute -inset-2 bg-cyan-500/30 blur-md rounded-full"></div>
                <div className="relative w-12 h-12 rounded-full p-[2px] bg-gradient-to-br from-white/20 to-white/5 border border-white/10 shadow-[inset_0_2px_4px_rgba(255,255,255,0.2)]">
                    <img src={avatarUrl} alt={creatorName} className="w-full h-full rounded-full object-cover" />
                </div>
                <div className="absolute bottom-0 right-0 w-3.5 h-3.5 bg-emerald-400 rounded-full border-2 border-[#0f111a] shadow-[0_0_8px_#4ade80]"></div>
             </div>
             <div>
                <h3 className="text-lg font-bold text-white tracking-wide drop-shadow-md">{creatorName}</h3>
                <p className="text-xs font-medium text-cyan-200/70 flex items-center gap-1">
                    <span className="w-1.5 h-1.5 rounded-full bg-cyan-400 animate-pulse"></span>
                    Online
                </p>
             </div>
          </div>
          
          <button 
            onClick={() => { playClickSound(); onClose(); }} 
            className="w-10 h-10 flex items-center justify-center rounded-full bg-white/5 hover:bg-white/10 border border-white/10 transition-all hover:scale-105 active:scale-95 group shadow-[inset_0_1px_0_rgba(255,255,255,0.1)]"
          >
            <XIcon className="w-5 h-5 text-slate-300 group-hover:text-white" />
          </button>
        </div>

        {/* --- Chat Body --- */}
        <div 
            ref={chatBodyRef} 
            className="flex-1 overflow-y-auto overflow-x-hidden relative z-10 p-6 space-y-6 scroll-smooth no-scrollbar"
        >
          {messages.map((msg) => {
            const isUser = msg.sender === 'user';
            return (
                <div key={msg.id} className={`flex flex-col ${isUser ? 'items-end' : 'items-start'} animate-spring-up`}>
                    {/* 3D Bubble Container */}
                    <div className={`relative max-w-[85%] group perspective-500 transform-gpu`}>
                        
                        {/* The Bubble */}
                        <div className={`
                            relative px-5 py-4 text-[15px] leading-relaxed rounded-[24px] backdrop-blur-md transition-all duration-300
                            ${isUser 
                                ? 'rounded-tr-[4px] text-white bg-gradient-to-br from-blue-600/80 to-cyan-500/80' 
                                : 'rounded-tl-[4px] text-slate-100 bg-gradient-to-br from-slate-800/60 to-slate-900/60'
                            }
                        `}
                        style={{
                            boxShadow: isUser 
                                ? 'inset 0 1px 1px rgba(255,255,255,0.4), inset 0 -2px 5px rgba(0,0,0,0.2), 0 10px 20px -5px rgba(6,182,212,0.3)' 
                                : 'inset 0 1px 1px rgba(255,255,255,0.1), inset 0 -2px 5px rgba(0,0,0,0.3), 0 10px 20px -5px rgba(0,0,0,0.3)',
                            border: isUser ? '1px solid rgba(255,255,255,0.2)' : '1px solid rgba(255,255,255,0.05)'
                        }}
                        >
                            {/* Specular Highlight (Glass/Gel Effect) */}
                            <div className="absolute top-1 left-4 right-4 h-[40%] bg-gradient-to-b from-white/10 to-transparent rounded-full blur-[4px] pointer-events-none"></div>

                            <span className="relative z-10 drop-shadow-sm font-medium">{msg.text}</span>
                        </div>

                        {/* Time */}
                        <span className={`text-[10px] font-semibold text-slate-500/60 mt-2 block ${isUser ? 'text-right mr-1' : 'ml-1'}`}>
                            {msg.time}
                        </span>
                    </div>
                </div>
            );
          })}

          {isTyping && (
             <div className="flex items-start animate-spring-up">
                 <div className="px-4 py-3 bg-slate-800/60 rounded-[24px] rounded-tl-[4px] shadow-lg border border-white/5 flex gap-1.5 items-center backdrop-blur-md transform-gpu">
                    <span className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce shadow-[0_0_8px_rgba(34,211,238,0.6)] [animation-delay:-0.3s]"></span>
                    <span className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce shadow-[0_0_8px_rgba(34,211,238,0.6)] [animation-delay:-0.15s]"></span>
                    <span className="w-2 h-2 bg-cyan-400 rounded-full animate-bounce shadow-[0_0_8px_rgba(34,211,238,0.6)]"></span>
                 </div>
             </div>
          )}
        </div>

        <ChatInputDock onSendMessage={handleSendMessage} />

      </div>
      
      <style>{`
        @keyframes spring-up {
          0% { opacity: 0; transform: translateY(20px) scale(0.9); }
          60% { opacity: 1; transform: translateY(-2px) scale(1.02); }
          100% { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-spring-up {
          animation: spring-up 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }
        .perspective-500 {
            perspective: 500px;
        }
      `}</style>
    </div>
  );
};

export default ChatModal;


=== components/UploadModal.tsx ===
import React, { useState, useEffect, useRef } from 'react';
import { XIcon, UploadIcon, CheckCircleIcon, GlobeIcon, ArrowLeftIcon } from './Icons';
import { playClickSound, playTypingSound, playSuccessSound } from '../audio';
import { uploadFile, NewTemplateData } from '../api';

interface UploadModalProps {
  isOpen: boolean;
  onClose: () => void;
  onAddTemplate: (templateData: NewTemplateData) => Promise<void>;
  onDashboardClick: () => void;
  isLoggedIn: boolean;
  onLoginRequest: () => void;
}

// Custom Cloud Icon for the specific UI
const CloudUploadIcon = (props: React.SVGProps<SVGSVGElement>) => (
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" {...props}>
    <path fillRule="evenodd" d="M11.47 2.47a.75.75 0 011.06 0l4.5 4.5a.75.75 0 01-1.06 1.06l-3.22-3.22V16.5a.75.75 0 01-1.5 0V4.81L8.03 8.03a.75.75 0 01-1.06-1.06l4.5-4.5zM3 15.75a.75.75 0 01.75.75v2.25a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5V16.5a.75.75 0 011.5 0v2.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V16.5a.75.75 0 01.75-.75z" clipRule="evenodd" />
  </svg>
);

const UploadModal: React.FC<UploadModalProps> = ({ isOpen, onClose, onAddTemplate, onDashboardClick, isLoggedIn, onLoginRequest }) => {
  const [step, setStep] = useState<'form' | 'uploading' | 'success'>('form');
  const [uploadProgress, setUploadProgress] = useState(0);
  const [uploadStatusText, setUploadStatusText] = useState("Initializing...");
  
  // Form State
  const [title, setTitle] = useState('');
  const [description, setDescription] = useState(''); // Treating as "Tags" visually or desc
  const [category, setCategory] = useState('');
  const [priceValue, setPriceValue] = useState('');
  const [isPublic, setIsPublic] = useState(true); // "Publish Publicly" toggle

  // File State
  const [imagePreview, setImagePreview] = useState<string | null>(null);
  const [assetFile, setAssetFile] = useState<File | null>(null);
  const [assetFileName, setAssetFileName] = useState('');
  const [externalLink, setExternalLink] = useState('');
  
  const assetInputRef = useRef<HTMLInputElement>(null);

  useEffect(() => {
    if (isOpen) {
        setStep('form');
        setTitle('');
        setDescription('');
        setCategory('');
        setPriceValue('');
        setImagePreview(null);
        setAssetFile(null);
        setAssetFileName('');
        setExternalLink('');
        setIsPublic(true);
        setUploadProgress(0);
        setUploadStatusText("Initializing...");
    }
  }, [isOpen]);

  // Handlers
  const handleAssetUpload = (event: React.ChangeEvent<HTMLInputElement>) => {
      const file = event.target.files?.[0];
      if (file) {
          setAssetFile(file);
          setAssetFileName(file.name);
          
          // If it's an image, use it as cover too for convenience
          if (file.type.startsWith('image/')) {
              const reader = new FileReader();
              reader.onloadend = () => setImagePreview(reader.result as string);
              reader.readAsDataURL(file);
          }
          playClickSound();
      }
      // Reset value so selecting the same file triggers change again if needed
      if (event.target) event.target.value = '';
  };

  const handleLinkChange = (e: React.ChangeEvent<HTMLInputElement>) => {
      setExternalLink(e.target.value);
      // If link provided, clear file
      if (e.target.value) {
          setAssetFile(null);
          setAssetFileName('');
      }
  };

  const handleNavClick = () => {
      playClickSound();
      onDashboardClick();
  }

  const handleSubmit = async () => {
    playClickSound();

    if (!isLoggedIn) {
        onLoginRequest();
        return;
    }

    if (!title || !category) {
        alert('Please fill in the template title and category.');
        return;
    }
    if (!assetFile && !externalLink) {
        alert('Please upload a file or paste a link.');
        return;
    }
    
    setStep('uploading');
    setUploadProgress(0);
    setUploadStatusText("Starting upload...");

    try {
        let finalExternalLink = externalLink;
        let finalImageUrl = imagePreview;

        // 1. Upload Asset File if exists
        if (assetFile) {
            setUploadStatusText("Uploading file...");
            const path = `uploads/${Date.now()}_${assetFile.name}`;
            
            // Promise wrapper to handle timeouts if the network hangs
            const uploadPromise = uploadFile(assetFile, path, (progress) => {
                setUploadProgress(progress);
                if (progress < 100) {
                     setUploadStatusText(`Uploading... ${Math.round(progress)}%`);
                } else {
                     setUploadStatusText("Processing...");
                }
            });
            
            // Race against a generous timeout for the *whole* process, though api.ts has a start watchdog
            const timeoutPromise = new Promise<string>((_, reject) => 
                setTimeout(() => reject(new Error("Upload operation timed out. Please retry.")), 60000)
            );

            finalExternalLink = await Promise.race([uploadPromise, timeoutPromise]);
            
            // If the asset is an image, we can use the uploaded URL as the image URL
            if (assetFile.type.startsWith('image/')) {
                finalImageUrl = finalExternalLink;
            }
        } else {
            // Fake progress for link-only submission
            setUploadStatusText("Verifying link...");
            setUploadProgress(30);
            await new Promise(r => setTimeout(r, 500));
            setUploadProgress(100);
            await new Promise(r => setTimeout(r, 300));
        }

        setUploadStatusText("Saving details...");
        await onAddTemplate({
          title,
          imageUrl: finalImageUrl || 'https://picsum.photos/seed/placeholder/600/400', 
          description: description || 'No description provided.',
          category,
          price: priceValue ? `${priceValue}` : 'Free',
          fileName: assetFileName || 'External Link',
          fileType: assetFile ? assetFile.name.split('.').pop() : 'link',
          externalLink: finalExternalLink
        });
        
        setStep('success');
        playSuccessSound();
        setTimeout(onClose, 2000);
    } catch (e: any) {
         console.error(e);
         // Reset state to allow retry
         alert(e.message || "Failed to upload template. Please try again.");
         setStep('form');
         setUploadProgress(0);
    }
  };

  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 z-[100] flex flex-col items-center justify-start pt-10 md:pt-20 bg-[#000000]/95 backdrop-blur-xl overflow-y-auto animate-fade-in pb-20">
        
        {/* Background Ambience (Nebula) */}
        <div className="fixed inset-0 pointer-events-none overflow-hidden">
            <div className="absolute top-[-10%] left-1/2 -translate-x-1/2 w-[800px] h-[600px] bg-blue-600/20 blur-[120px] rounded-full mix-blend-screen"></div>
            <div className="absolute bottom-0 right-0 w-[600px] h-[600px] bg-purple-600/10 blur-[100px] rounded-full mix-blend-screen"></div>
            <div className="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.05]"></div>
        </div>

        {/* Back Button (Top Left) */}
        <button 
            onClick={onClose}
            disabled={step === 'uploading'}
            className="fixed top-6 left-6 z-50 px-4 py-2 bg-white/5 hover:bg-white/10 backdrop-blur-md border border-white/10 rounded-full text-white/70 hover:text-white transition-all flex items-center gap-2 group disabled:opacity-50 disabled:cursor-not-allowed"
        >
            <ArrowLeftIcon className="w-4 h-4 group-hover:-translate-x-1 transition-transform" />
            <span className="text-sm font-medium">Back</span>
        </button>

        {/* Close Button (Top Right) */}
        <button onClick={onClose} disabled={step === 'uploading'} className="fixed top-6 right-6 z-50 p-2 rounded-full bg-white/5 hover:bg-white/10 text-white/50 hover:text-white transition-colors disabled:opacity-0">
            <XIcon className="w-6 h-6" />
        </button>

        {/* --- 1. HEADER LOGO & NAV --- */}
        <div className="relative z-10 flex flex-col items-center mb-10 animate-slide-up" style={{ animationDelay: '0ms' }}>
            
            {/* 
                NEW TEMPLR BUTTON 
                Recreated from provided HTML/CSS
            */}
            <div className="relative mb-10">
                <button 
                    className="relative inline-flex justify-center items-center px-[40px] py-3 text-[2rem] font-bold text-white tracking-[-0.02em] rounded-[20px] cursor-default transition-all duration-300 hover:-translate-y-[1px] active:translate-y-[1px] group"
                    style={{
                        background: `
                            linear-gradient(180deg, rgba(30,30,30,1) 0%, rgba(10,10,10,1) 100%) padding-box,
                            linear-gradient(180deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.1) 100%) border-box
                        `,
                        border: '1.5px solid transparent',
                        boxShadow: `
                            inset 0 1px 0 rgba(255,255,255,0.1),
                            0 0 20px rgba(255, 255, 255, 0.15),
                            0 0 40px rgba(255, 255, 255, 0.05)
                        `
                    }}
                >
                    Templr
                    {/* Hover Effect Overlay to brighten glow */}
                    <div 
                        className="absolute inset-0 rounded-[20px] opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"
                        style={{
                            boxShadow: `
                                inset 0 1px 0 rgba(255,255,255,0.2),
                                0 0 30px rgba(255, 255, 255, 0.3),
                                0 0 60px rgba(255, 255, 255, 0.1)
                            `
                        }}
                    />
                </button>
            </div>

            {/* Nav Pills */}
            <div className="flex items-center bg-[#0A0A0A]/80 backdrop-blur-md border border-white/10 rounded-full p-1 shadow-lg">
                {/* Dashboard (Functional) */}
                <button 
                    onClick={handleNavClick}
                    className="relative px-6 py-2 rounded-full bg-white/10 border border-white/5 shadow-inner hover:bg-white/20 transition-all overflow-hidden group"
                >
                    <div className="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:animate-[shimmer_1s_infinite]"></div>
                    <span className="text-sm font-bold text-white relative z-10">Dashboard</span>
                </button>
                
                {/* Other sections mapped to Dashboard for now */}
                {['Templates', 'Analytics'].map(item => (
                    <button 
                        key={item} 
                        onClick={handleNavClick}
                        className="px-6 py-2 rounded-full text-sm font-medium text-slate-500 hover:text-white transition-colors"
                    >
                        {item}
                    </button>
                ))}
            </div>
        </div>

        {/* --- 2. MAIN UPLOAD CARD --- */}
        <div className="relative z-10 w-full max-w-xl animate-slide-up" style={{ animationDelay: '100ms' }}>
            
            {/* Glow Effect Behind Card */}
            <div className="absolute -inset-1 bg-gradient-to-b from-blue-500/30 to-purple-500/10 rounded-[32px] blur-xl opacity-50"></div>

            <div className="relative bg-[#050505]/80 backdrop-blur-2xl border border-white/10 rounded-[32px] p-1 shadow-2xl">
                <div className="bg-gradient-to-b from-white/[0.03] to-transparent rounded-[28px] p-8 md:p-12 flex flex-col items-center text-center border border-white/5">
                    
                    {/* Cloud Icon */}
                    <div className="mb-6 relative group cursor-pointer" onClick={() => step === 'form' && assetInputRef.current?.click()}>
                        <div className={`w-24 h-24 rounded-[24px] border-2 border-dashed ${assetFile ? 'border-green-500/50 bg-green-500/5' : 'border-slate-600 group-hover:border-blue-400 group-hover:bg-blue-500/5'} flex items-center justify-center transition-all duration-300`}>
                            {assetFile ? (
                                <CheckCircleIcon className="w-10 h-10 text-green-400" />
                            ) : (
                                <CloudUploadIcon className="w-10 h-10 text-slate-400 group-hover:text-white transition-colors" />
                            )}
                        </div>
                        {step === 'form' && <div className="absolute inset-0 bg-blue-500/20 blur-xl rounded-full opacity-0 group-hover:opacity-50 transition-opacity"></div>}
                    </div>

                    {/* Title */}
                    <h2 className="text-3xl font-bold text-white mb-2 tracking-tight">
                        {step === 'uploading' ? 'Deploying...' : 'Upload Your Template'}
                    </h2>
                    
                    {step === 'uploading' ? (
                        <div className="w-full max-w-xs mt-6">
                            <div className="flex justify-between text-xs text-slate-400 mb-2 font-mono">
                                <span className="uppercase tracking-wider">{uploadStatusText}</span>
                                <span>{Math.round(uploadProgress)}%</span>
                            </div>
                            <div className="w-full h-1.5 bg-slate-800 rounded-full overflow-hidden relative">
                                <div 
                                    className="absolute inset-y-0 left-0 bg-gradient-to-r from-blue-500 to-cyan-400 transition-all duration-300 ease-out"
                                    style={{ width: `${uploadProgress}%` }}
                                >
                                    {/* Shimmer on bar */}
                                    <div className="absolute inset-0 bg-white/30 w-full animate-[shimmer_1s_infinite] -translate-x-full"></div>
                                </div>
                            </div>
                            <p className="mt-4 text-[10px] text-slate-500 animate-pulse text-center uppercase tracking-widest">
                                Do not close this window
                            </p>
                        </div>
                    ) : (
                        <>
                            <p className="text-slate-500 text-xs mb-8 font-medium uppercase tracking-wide">
                                {assetFileName ? (
                                    <span className="text-green-400">{assetFileName} selected</span>
                                ) : (
                                    "Supported: ZIP, FIG, XD, JPG, PNG"
                                )}
                            </p>

                            {/* Premium 3D Browse Button */}
                            <button 
                                onClick={() => assetInputRef.current?.click()}
                                className="group relative w-64 h-16 flex items-center justify-center gap-3 rounded-2xl bg-gradient-to-b from-blue-500 to-blue-700 shadow-[0_10px_40px_-10px_rgba(37,99,235,0.6),0_0_0_1px_rgba(255,255,255,0.1),inset_0_1px_0_rgba(255,255,255,0.3)] hover:shadow-[0_20px_50px_-10px_rgba(37,99,235,0.8),0_0_0_1px_rgba(255,255,255,0.2),inset_0_1px_0_rgba(255,255,255,0.4)] hover:-translate-y-1 transition-all duration-300 overflow-hidden"
                            >
                                {/* Shimmer Effect */}
                                <div className="absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent z-10"></div>
                                
                                <UploadIcon className="w-5 h-5 text-white relative z-20" />
                                <span className="text-white font-bold text-base tracking-wide relative z-20">Browse Files</span>
                            </button>
                            <input 
                                type="file" 
                                ref={assetInputRef} 
                                className="hidden" 
                                onChange={handleAssetUpload} 
                                accept=".zip,.fig,.xd,.sketch,.psd,.png,.jpg,.jpeg"
                            />

                            {/* Divider */}
                            <div className="flex items-center gap-4 w-full max-w-xs my-8">
                                <div className="h-[1px] flex-1 bg-white/10"></div>
                                <span className="text-xs font-bold text-slate-600 uppercase tracking-wider">or Paste a Link</span>
                                <div className="h-[1px] flex-1 bg-white/10"></div>
                            </div>

                            {/* Link Input */}
                            <div className="w-full max-w-md relative group">
                                <div className="absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl blur opacity-0 group-focus-within:opacity-100 transition-opacity duration-500"></div>
                                <input 
                                    type="text" 
                                    value={externalLink}
                                    onChange={handleLinkChange}
                                    placeholder="Paste a Link (Drive, Dropbox, Figma...)" 
                                    className="relative w-full bg-[#020202] border border-[#1F1F1F] text-center text-white placeholder-slate-600 text-sm font-medium py-4 px-6 rounded-xl focus:outline-none focus:border-blue-500/50 focus:bg-[#0A0A0A] transition-all"
                                />
                            </div>
                        </>
                    )}

                </div>
            </div>
        </div>

        {/* --- 3. INFO CARD --- */}
        {step === 'form' && (
            <div className="relative z-10 w-full max-w-md mt-6 mb-10 animate-slide-up" style={{ animationDelay: '200ms' }}>
                
                {/* Card Glow */}
                <div className="absolute -inset-1 bg-white/5 rounded-[24px] blur-lg"></div>

                <div className="relative bg-[#0A0A0A]/90 backdrop-blur-xl border border-white/10 rounded-[24px] p-8 shadow-2xl">
                    
                    <h3 className="text-xl font-bold text-white mb-6 text-center">Template Information</h3>
                    
                    <div className="space-y-5">
                        {/* Title */}
                        <div className="space-y-2">
                            <input 
                                type="text" 
                                value={title}
                                onChange={(e) => setTitle(e.target.value)}
                                placeholder="Template Title" 
                                className="w-full bg-[#020202] border border-[#1F1F1F] text-white placeholder-slate-600 text-sm font-medium py-3 px-4 rounded-xl focus:outline-none focus:border-blue-500/50 transition-all"
                            />
                        </div>

                        {/* Category */}
                        <div className="relative">
                            <select 
                                value={category}
                                onChange={(e) => setCategory(e.target.value)}
                                className="w-full bg-[#020202] border border-[#1F1F1F] text-white text-sm font-medium py-3 px-4 rounded-xl focus:outline-none focus:border-blue-500/50 transition-all appearance-none cursor-pointer"
                            >
                                <option value="" disabled className="text-slate-600">Category Select</option>
                                <option>SaaS</option>
                                <option>E-commerce</option>
                                <option>Portfolio</option>
                                <option>UI Kit</option>
                                <option>Dashboard</option>
                            </select>
                            <div className="absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 text-xs pointer-events-none"></div>
                        </div>

                        {/* Tags (Description) */}
                        <div>
                            <textarea 
                                value={description}
                                onChange={(e) => setDescription(e.target.value)}
                                placeholder="Description / Tags (e.g. minimal, dark)" 
                                rows={2}
                                className="w-full bg-[#020202] border border-[#1F1F1F] text-white placeholder-slate-600 text-sm font-medium py-3 px-4 rounded-xl focus:outline-none focus:border-blue-500/50 transition-all resize-none"
                            />
                        </div>
                        
                        {/* Price (Extra Field matching style) */}
                        <div>
                            <input 
                                type="number" 
                                value={priceValue}
                                onChange={(e) => setPriceValue(e.target.value)}
                                placeholder="Price () - Leave empty for Free" 
                                className="w-full bg-[#020202] border border-[#1F1F1F] text-white placeholder-slate-600 text-sm font-medium py-3 px-4 rounded-xl focus:outline-none focus:border-blue-500/50 transition-all"
                            />
                        </div>

                        {/* Publish Toggle */}
                        <div className="flex items-center justify-between pt-2">
                            <span className="text-sm font-medium text-white">Publish Publicly</span>
                            <button 
                                onClick={() => { setIsPublic(!isPublic); playClickSound(); }}
                                className={`w-12 h-7 rounded-full p-1 transition-colors duration-300 ${isPublic ? 'bg-blue-600' : 'bg-slate-700'}`}
                            >
                                <div className={`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-300 ${isPublic ? 'translate-x-5' : 'translate-x-0'}`}></div>
                            </button>
                        </div>
                    </div>
                    
                    {/* Submit Action (Implicit in UI but needed) */}
                    <button 
                        onClick={handleSubmit}
                        className="w-full mt-8 py-4 rounded-xl bg-white text-black font-bold text-sm hover:bg-slate-200 transition-colors flex justify-center"
                    >
                        Complete Upload
                    </button>

                </div>
            </div>
        )}

    </div>
  );
};

export default UploadModal;


=== components/ImageViewerModal.tsx ===
import React, { useEffect, useState, useRef } from 'react';
import { XIcon, HeartIcon, EyeIcon, LockIcon, CheckCircleIcon, GlobeIcon, ArrowRightIcon, UploadIcon, ArrowLeftIcon } from './Icons';
import { Template } from '../api';
import { playClickSound, playSuccessSound } from '../audio';

interface ImageViewerModalProps {
  isOpen: boolean;
  onClose: () => void;
  template: Template | null;
}

const ImageViewerModal: React.FC<ImageViewerModalProps> = ({ isOpen, onClose, template }) => {
  const [isUnlocked, setIsUnlocked] = useState(false);
  const [isPurchasing, setIsPurchasing] = useState(false);
  const [activeTab, setActiveTab] = useState<'preview' | 'code'>('preview');
  const canvasRef = useRef<HTMLCanvasElement>(null);

  useEffect(() => {
    const handleEsc = (event: KeyboardEvent) => {
      if (event.key === 'Escape') onClose();
    };
    if (isOpen) window.addEventListener('keydown', handleEsc);
    return () => window.removeEventListener('keydown', handleEsc);
  }, [isOpen, onClose]);

  useEffect(() => {
    if (template) {
        setIsUnlocked(template.price === 'Free');
        setIsPurchasing(false);
    }
  }, [template]);

  // --- CONFETTI ENGINE ---
  const triggerConfetti = () => {
      const canvas = canvasRef.current;
      if (!canvas) return;
      const ctx = canvas.getContext('2d');
      if (!ctx) return;

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const particles: any[] = [];
      const particleCount = 150;
      const colors = ['#3b82f6', '#06b6d4', '#8b5cf6', '#ffffff', '#10b981'];

      for (let i = 0; i < particleCount; i++) {
          particles.push({
              x: canvas.width / 2,
              y: canvas.height * 0.8, // Start from bottom center (button area)
              vx: (Math.random() - 0.5) * 25, // Random X spread
              vy: -(Math.random() * 20 + 10), // Upward velocity
              size: Math.random() * 8 + 4,
              color: colors[Math.floor(Math.random() * colors.length)],
              gravity: 0.8,
              drag: 0.96,
              rotation: Math.random() * 360,
              rotationSpeed: (Math.random() - 0.5) * 10,
              opacity: 1
          });
      }

      let animationFrame: number;

      const animate = () => {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          let activeParticles = 0;

          particles.forEach(p => {
              if (p.opacity <= 0) return;
              activeParticles++;

              p.x += p.vx;
              p.y += p.vy;
              p.vy += p.gravity;
              p.vx *= p.drag;
              p.vy *= p.drag;
              p.rotation += p.rotationSpeed;
              p.opacity -= 0.008;

              ctx.save();
              ctx.translate(p.x, p.y);
              ctx.rotate((p.rotation * Math.PI) / 180);
              ctx.globalAlpha = p.opacity;
              ctx.fillStyle = p.color;
              ctx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size);
              ctx.restore();
          });

          if (activeParticles > 0) {
              animationFrame = requestAnimationFrame(animate);
          } else {
             ctx.clearRect(0, 0, canvas.width, canvas.height);
          }
      };

      animate();
  };

  const handlePurchase = () => {
    playClickSound();
    setIsPurchasing(true);
    
    // Simulate API call
    setTimeout(() => {
        setIsPurchasing(false);
        setIsUnlocked(true);
        playSuccessSound();
        triggerConfetti(); // BLAST OFF!
    }, 1500);
  };

  const handlePrimaryAction = () => {
      playClickSound();
      if (!template?.fileUrl || template.fileUrl === '#') {
          alert("This is a demo template. No actual link is attached.");
          return;
      }

      const isExternal = template.fileUrl.startsWith('http') || template.fileUrl.startsWith('https');
      
      if (isExternal) {
          window.open(template.fileUrl, '_blank');
      } else {
          // Simulate Download
          const link = document.createElement('a');
          link.href = template.fileUrl;
          link.download = template.fileName || `${template.title.replace(/\s+/g, '_')}.${template.fileType || 'zip'}`;
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
      }
  }
  
  if (!isOpen || !template) return null;

  const isExternalLink = template.fileUrl && (template.fileUrl.startsWith('http') || template.fileUrl.startsWith('https'));
  const primaryActionText = !isUnlocked 
    ? 'Purchase Now' 
    : isExternalLink 
        ? 'Visit Website' 
        : 'Download Asset';

  return (
    <div 
      className="fixed inset-0 z-[90] flex items-center justify-center bg-[#000]/95 backdrop-blur-md transition-opacity animate-fade-in p-0 md:p-6"
      onClick={onClose}
    >
      {/* Confetti Canvas Layer */}
      <canvas ref={canvasRef} className="fixed inset-0 pointer-events-none z-[110]" />

      {/* Back Button (Mobile/Desktop) */}
      <button 
          onClick={onClose}
          className="fixed top-6 left-6 z-[100] px-4 py-2 bg-black/50 hover:bg-black/80 backdrop-blur-md border border-white/10 rounded-full text-white hover:text-white transition-all flex items-center gap-2 group active:scale-90"
      >
          <ArrowLeftIcon className="w-4 h-4 group-hover:-translate-x-1 transition-transform" />
          <span className="text-sm font-medium">Back</span>
      </button>

      {/* Modal Container */}
      <div 
        className="relative w-full max-w-[95rem] h-full md:h-[90vh] bg-[#050505] border border-[#1F1F1F] rounded-none md:rounded-[32px] shadow-[0_0_100px_-20px_rgba(0,0,0,1)] overflow-hidden flex flex-col lg:flex-row group/modal"
        onClick={(e) => e.stopPropagation()}
      >
        
        {/* --- LEFT PANEL: VISUAL CANVAS --- */}
        <div className="relative flex-1 h-[45vh] lg:h-full bg-[#020203] flex flex-col overflow-hidden">
            
            {/* Canvas Toolbar */}
            <div className="absolute top-6 left-0 right-0 flex justify-center z-30 pointer-events-none">
                <div className="flex bg-black/80 backdrop-blur-md border border-white/10 rounded-full p-1 pointer-events-auto shadow-2xl">
                    <button 
                        onClick={() => setActiveTab('preview')}
                        className={`px-6 py-2 rounded-full text-xs font-bold transition-all ${activeTab === 'preview' ? 'bg-white text-black' : 'text-slate-400 hover:text-white'}`}
                    >
                        Preview
                    </button>
                    <button 
                        onClick={() => setActiveTab('code')}
                        disabled={!isUnlocked}
                        className={`px-6 py-2 rounded-full text-xs font-bold transition-all flex items-center gap-2 ${activeTab === 'code' ? 'bg-white text-black' : 'text-slate-400 hover:text-white'} ${!isUnlocked ? 'opacity-50 cursor-not-allowed' : ''}`}
                    >
                        Code {!isUnlocked && <LockIcon className="w-3 h-3" />}
                    </button>
                </div>
            </div>

            {/* Canvas Background Grid */}
            <div className="absolute inset-0 opacity-[0.07] pointer-events-none" 
                 style={{ backgroundImage: 'linear-gradient(#333 1px, transparent 1px), linear-gradient(90deg, #333 1px, transparent 1px)', backgroundSize: '40px 40px' }}>
            </div>

            {/* Main Content Area */}
            <div className="relative w-full h-full flex items-center justify-center p-4 md:p-12 lg:p-20">
                {activeTab === 'preview' ? (
                    <div className="relative w-full h-full flex items-center justify-center transition-all duration-700">
                        {/* The Image */}
                        <img 
                            src={template.imageUrl?.replace('/600/400', '/1200/800') || ''} 
                            alt={template.title} 
                            className={`
                                w-auto h-auto max-w-full max-h-full object-contain rounded-xl shadow-[0_50px_100px_-20px_rgba(0,0,0,0.6)] border border-white/5
                                ${!isUnlocked ? 'blur-md brightness-[0.4] saturate-0 scale-105' : 'blur-0 brightness-100 scale-100'}
                                transition-all duration-700 ease-out
                            `}
                        />

                        {/* Locked Overlay */}
                        {!isUnlocked && (
                            <div className="absolute inset-0 flex flex-col items-center justify-center z-20 px-4">
                                <div className="bg-[#0A0A0A]/80 backdrop-blur-2xl border border-white/10 p-8 md:p-12 rounded-[32px] flex flex-col items-center text-center shadow-2xl animate-fade-in-up max-w-md mx-auto">
                                    <div className="w-16 h-16 rounded-full bg-blue-500/10 border border-blue-500/20 flex items-center justify-center mb-6 text-blue-500 shadow-[0_0_40px_-5px_rgba(59,130,246,0.3)]">
                                        <LockIcon className="w-7 h-7" />
                                    </div>
                                    <h3 className="text-2xl font-bold text-white mb-3 tracking-tight">Premium Asset</h3>
                                    <p className="text-slate-400 text-sm mb-8 leading-relaxed max-w-xs">
                                        Unlock the source code, high-res assets, and full documentation for this template.
                                    </p>
                                    <button onClick={handlePurchase} className="px-10 py-4 bg-white text-black rounded-full font-bold text-xs uppercase tracking-widest active:scale-95 transition-transform">
                                        Unlock Now
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                ) : (
                    // Code View (Mockup)
                    <div className="w-full h-full max-w-4xl bg-[#0A0A0A] rounded-xl border border-white/10 p-0 font-mono text-xs text-slate-300 overflow-hidden relative shadow-2xl animate-fade-in flex flex-col">
                        <div className="h-10 bg-[#111] border-b border-white/5 flex items-center px-4 gap-2 flex-shrink-0">
                            <div className="w-3 h-3 rounded-full bg-red-500/50"></div>
                            <div className="w-3 h-3 rounded-full bg-yellow-500/50"></div>
                            <div className="w-3 h-3 rounded-full bg-green-500/50"></div>
                            <span className="ml-4 text-slate-500 font-sans text-xs">src/App.tsx</span>
                        </div>
                        <div className="flex-1 p-6 space-y-1.5 opacity-80 overflow-auto custom-scrollbar">
                            <p><span className="text-purple-400">import</span> React <span className="text-purple-400">from</span> 'react';</p>
                            <p><span className="text-purple-400">import</span> {'{ motion }'} <span className="text-purple-400">from</span> 'framer-motion';</p>
                            <p className="h-4"></p>
                            <p><span className="text-blue-400">export const</span> <span className="text-yellow-200">App</span> = () {'=>'} {'{'}</p>
                            <p className="pl-4"><span className="text-purple-400">return</span> (</p>
                            <p className="pl-8 text-green-400">{'<div className="min-h-screen bg-black text-white">'}</p>
                            <p className="pl-12 text-green-400">{'<h1 className="text-5xl font-bold">Hello World</h1>'}</p>
                            <p className="pl-8 text-green-400">{'</div>'}</p>
                            <p className="pl-4">);</p>
                            <p>{'};'}</p>
                        </div>
                    </div>
                )}
            </div>
        </div>


        {/* --- RIGHT PANEL: CONTROL DASHBOARD --- */}
        <div className="w-full lg:w-[420px] h-[55vh] lg:h-full bg-[#09090b] border-l border-[#1F1F1F] flex flex-col z-30 shadow-[0_0_50px_rgba(0,0,0,0.5)]">
            
            {/* 1. Header Info */}
            <div className="p-6 md:p-8 pb-4 md:pb-6 border-b border-white/5 bg-[#09090b]">
                <div className="flex items-center justify-between mb-4">
                    <div className="flex gap-2">
                        <span className="px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider bg-white/5 text-slate-300 border border-white/10">
                            {template.category}
                        </span>
                         {template.status === 'approved' && (
                            <span className="px-2.5 py-1 rounded-md text-[10px] font-bold uppercase tracking-wider bg-green-500/10 text-green-400 border border-green-500/20 flex items-center gap-1">
                                <CheckCircleIcon className="w-3 h-3" /> Verified
                            </span>
                         )}
                    </div>
                </div>
                <h1 className="text-2xl md:text-3xl font-bold text-white mb-4 leading-tight tracking-tight line-clamp-2">{template.title}</h1>
                <div className="flex items-center gap-3">
                     <div className="w-9 h-9 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center text-xs text-white font-bold border border-white/10 shadow-lg">
                        {template.author[0]}
                     </div>
                     <div className="flex flex-col">
                        <p className="text-[10px] text-slate-500 font-bold uppercase tracking-wider">Creator</p>
                        <p className="text-sm font-bold text-white hover:text-blue-400 transition-colors cursor-pointer">{template.author}</p>
                     </div>
                </div>
            </div>

            {/* 2. Scrollable Content */}
            <div className="flex-1 overflow-y-auto custom-scrollbar p-6 md:p-8 space-y-8 bg-[#09090b] pb-32">
                
                {/* Stats Grid */}
                <div className="grid grid-cols-2 gap-3">
                    <div className="p-4 rounded-xl bg-white/[0.02] border border-white/5 flex flex-col items-center justify-center text-center">
                        <HeartIcon className="w-5 h-5 text-rose-500 mb-2" />
                        <span className="text-lg font-bold text-white">{template.likes}</span>
                        <span className="text-[10px] text-slate-500 uppercase tracking-wider">Likes</span>
                    </div>
                    <div className="p-4 rounded-xl bg-white/[0.02] border border-white/5 flex flex-col items-center justify-center text-center">
                         <EyeIcon className="w-5 h-5 text-blue-500 mb-2" />
                         <span className="text-lg font-bold text-white">{template.views >= 1000 ? (template.views/1000).toFixed(1) + 'k' : template.views}</span>
                         <span className="text-[10px] text-slate-500 uppercase tracking-wider">Views</span>
                    </div>
                </div>

                {/* Description */}
                <div>
                    <h4 className="text-[11px] font-bold text-slate-400 mb-3 uppercase tracking-widest border-b border-white/5 pb-2">Description</h4>
                    <p className="text-sm text-slate-300 leading-relaxed font-light">
                        {template.description}
                    </p>
                </div>

                {/* Included Files List */}
                <div>
                    <h4 className="text-[11px] font-bold text-slate-400 mb-3 uppercase tracking-widest border-b border-white/5 pb-2">Files Included</h4>
                    <div className="space-y-2">
                         <div className="flex items-center justify-between text-sm p-3.5 rounded-xl bg-white/[0.02] border border-white/5 hover:border-white/10 transition-colors">
                             <div className="flex items-center gap-3">
                                 <div className="p-2 bg-blue-500/10 rounded-lg text-blue-400"><CheckCircleIcon className="w-4 h-4" /></div>
                                 <span className="text-slate-200 font-medium">Source Code</span>
                             </div>
                             <span className="text-[10px] text-slate-500 font-mono bg-white/5 px-2 py-1 rounded">ZIP</span>
                         </div>
                         {isExternalLink && (
                            <div className="flex items-center justify-between text-sm p-3.5 rounded-xl bg-white/[0.02] border border-white/5 hover:border-white/10 transition-colors">
                                <div className="flex items-center gap-3">
                                    <div className="p-2 bg-purple-500/10 rounded-lg text-purple-400"><GlobeIcon className="w-4 h-4" /></div>
                                    <span className="text-slate-200 font-medium">Live Website</span>
                                </div>
                                <span className="text-[10px] text-slate-500 font-mono bg-white/5 px-2 py-1 rounded">URL</span>
                            </div>
                         )}
                    </div>
                </div>
            </div>

            {/* 3. Sticky Action Dock (Bottom) */}
            <div className="absolute bottom-0 left-0 right-0 p-6 bg-[#09090b]/90 backdrop-blur-xl border-t border-white/10 z-40 shadow-[0_-10px_40px_-10px_rgba(0,0,0,1)]">
                
                {/* Price Row */}
                <div className="flex items-end justify-between mb-4">
                    <div>
                        <p className="text-xs text-slate-500 font-medium mb-1">Total Price</p>
                        <p className="text-3xl font-bold text-white tracking-tight">{template.price}</p>
                    </div>
                    <div className="text-right">
                         <p className="text-xs text-slate-500 font-medium mb-1">License</p>
                         <p className="text-sm text-white font-medium">Personal & Commercial</p>
                    </div>
                </div>

                <div className="flex flex-col gap-3">
                    {/* Primary Action Button */}
                    <button 
                        onClick={isUnlocked ? handlePrimaryAction : handlePurchase}
                        disabled={isPurchasing}
                        className={`
                            group relative w-full h-14 rounded-2xl font-bold text-sm uppercase tracking-widest overflow-hidden shadow-xl transition-all active:scale-[0.98]
                            ${isUnlocked 
                                ? 'bg-white text-black hover:bg-slate-200' 
                                : 'bg-gradient-to-r from-blue-600 to-blue-500 text-white shadow-[0_4px_20px_-5px_rgba(37,99,235,0.4)]'
                            }
                        `}
                    >
                        {/* Loading State */}
                        {isPurchasing && (
                            <div className="absolute inset-0 flex items-center justify-center bg-blue-700 z-20">
                                <div className="w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"></div>
                            </div>
                        )}

                        {/* Content */}
                        <div className="relative z-10 flex items-center justify-center gap-3 h-full">
                            {!isUnlocked ? (
                                <>
                                    <span>Purchase Now</span>
                                    <LockIcon className="w-4 h-4 opacity-70" />
                                </>
                            ) : (
                                <>
                                    <span>{primaryActionText}</span>
                                    {isExternalLink ? <GlobeIcon className="w-4 h-4" /> : <UploadIcon className="w-4 h-4 rotate-180" />}
                                </>
                            )}
                        </div>
                    </button>
                </div>
            </div>
        </div>
      </div>
    </div>
  );
};

export default ImageViewerModal;


=== db.ts ===

export interface Template {
  id: string;
  title: string;
  author: string;
  imageUrl: string;
  likes: number;
  views: number;
  isLiked: boolean;
  category: string;
  description: string;
  price: string; // 'Free' or '$XX'
  
  // New Fields for File System & Dashboard
  fileUrl?: string; // The actual asset download link
  fileName?: string; // Original filename
  fileType?: string; // zip, fig, etc.
  status: 'approved' | 'pending' | 'rejected';
  sales: number;
  earnings: number;
}

export const templates: Template[] = [
  { id: '1', title: 'Cyberpunk Portfolio', author: 'NexusDesigns', imageUrl: 'https://picsum.photos/seed/template1/600/400', likes: 1340, views: 25000, isLiked: false, category: 'Portfolio', description: 'A dark, futuristic portfolio template with neon accents, perfect for developers and digital artists.', price: '$49', status: 'approved', sales: 120, earnings: 5880, fileUrl: 'https://example.com' },
  { id: '2', title: 'SaaS Landing Page', author: 'PixelPerfect', imageUrl: 'https://picsum.photos/seed/template2/600/400', likes: 2100, views: 42000, isLiked: false, category: 'SaaS', description: 'Clean and modern landing page for a software-as-a-service product, focusing on conversions.', price: 'Free', status: 'approved', sales: 0, earnings: 0, fileUrl: 'https://ui.shadcn.com/' },
  { id: '3', title: 'Crypto Dashboard', author: 'ChainUI', imageUrl: 'https://picsum.photos/seed/template3/600/400', likes: 980, views: 18000, isLiked: false, category: 'Dashboard', description: 'A comprehensive dashboard for tracking cryptocurrency prices and managing portfolios.', price: '$89', status: 'approved', sales: 45, earnings: 4005, fileUrl: 'https://coinmarketcap.com/' },
  { id: '4', title: 'E-commerce Store', author: 'ShopifyMasters', imageUrl: 'https://picsum.photos/seed/template4/600/400', likes: 5600, views: 112000, isLiked: false, category: 'E-commerce', description: 'A minimalist and elegant e-commerce template designed to showcase products beautifully.', price: '$120', status: 'approved', sales: 310, earnings: 37200, fileUrl: 'https://shopify.com' },
  { id: '5', title: 'AI Startup Pitch', author: 'FutureVision', imageUrl: 'https://picsum.photos/seed/template5/600/400', likes: 3250, views: 61000, isLiked: false, category: 'SaaS', description: 'A compelling pitch deck template for AI and tech startups, designed to impress investors.', price: 'Free', status: 'approved', sales: 0, earnings: 0, fileUrl: 'https://openai.com' },
  { id: '6', title: 'Gaming Community Hub', author: 'GlitchWorks', imageUrl: 'https://picsum.photos/seed/template6/600/400', likes: 4100, views: 98000, isLiked: false, category: 'Community', description: 'An engaging hub for gaming communities, featuring forums, member profiles, and event calendars.', price: '$35', status: 'approved', sales: 85, earnings: 2975, fileUrl: 'https://discord.com' },
  { id: '7', title: 'Minimalist Blog', author: 'Wordsmith', imageUrl: 'https://picsum.photos/seed/template7/600/400', likes: 1800, views: 35000, isLiked: false, category: 'Blog', description: 'A content-focused blog template with beautiful typography and a clean, distraction-free reading experience.', price: 'Free', status: 'approved', sales: 0, earnings: 0, fileUrl: 'https://vercel.com/templates' },
  { id: '8', title: 'Digital Agency', author: 'CreativeFlow', imageUrl: 'https://picsum.photos/seed/template8/600/400', likes: 2900, views: 54000, isLiked: false, category: 'Portfolio', description: 'A professional and stylish template for digital agencies to showcase their work and services.', price: '$200', status: 'approved', sales: 15, earnings: 3000, fileUrl: '#' },
  { id: '9', title: 'Fitness App UI', author: 'FitDesign', imageUrl: 'https://picsum.photos/seed/template9/600/400', likes: 3500, views: 72000, isLiked: false, category: 'Dashboard', description: 'A vibrant and motivating UI kit for a fitness tracking application, with charts and progress trackers.', price: '$55', status: 'approved', sales: 60, earnings: 3300, fileUrl: '#' },
  { id: '10', title: 'Recipe Sharing Platform', author: 'CooksCorner', imageUrl: 'https://picsum.photos/seed/template10/600/400', likes: 2400, views: 48000, isLiked: false, category: 'Community', description: 'A community-driven platform for sharing and discovering new recipes, with user ratings and collections.', price: 'Free', status: 'approved', sales: 0, earnings: 0, fileUrl: '#' },
  { id: '11', title: 'Tech Conference Event', author: 'EventPro', imageUrl: 'https://picsum.photos/seed/template11/600/400', likes: 1500, views: 31000, isLiked: false, category: 'Community', description: 'A sleek and informative one-page template for tech conferences and events, with speaker profiles and schedules.', price: '$25', status: 'approved', sales: 40, earnings: 1000, fileUrl: '#' },
  { id: '12', title: 'Photography Portfolio', author: 'Shutterbug', imageUrl: 'https://picsum.photos/seed/template12/600/400', likes: 4800, views: 95000, isLiked: false, category: 'Portfolio', description: 'A visually stunning portfolio for photographers, featuring fullscreen image galleries and elegant transitions.', price: '$75', status: 'approved', sales: 150, earnings: 11250, fileUrl: '#' }
];


=== api.ts ===

import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
import { 
  getAuth, 
  signInWithPopup, 
  GoogleAuthProvider, 
  signOut as firebaseSignOut, 
  onAuthStateChanged, 
  signInWithEmailAndPassword,
  createUserWithEmailAndPassword,
  updateProfile,
  User 
} from "firebase/auth";
import { getDatabase, ref, onValue, push, update, remove, set } from "firebase/database";
import { getStorage, ref as storageRef, uploadBytesResumable, getDownloadURL } from "firebase/storage";

import { templates as initialTemplates } from './db';

// --- CONFIGURATION ---
const firebaseConfig = {
  apiKey: "AIzaSyBnsBscss_nBG1ITN5-8rl5kUIu8wQKtAY",
  authDomain: "temprl-8fb38.firebaseapp.com",
  databaseURL: "https://temprl-8fb38-default-rtdb.firebaseio.com",
  projectId: "temprl-8fb38",
  storageBucket: "temprl-8fb38.firebasestorage.app",
  messagingSenderId: "724982977717",
  appId: "1:724982977717:web:b1439f3864596263785afc",
  measurementId: "G-8M63Y757FR"
};

// --- INITIALIZATION ---
console.log("Initializing Firebase...");
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const auth = getAuth(app);
const db = getDatabase(app);
const storage = getStorage(app);

// --- TYPES ---

export interface NewTemplateData {
  title: string;
  imageUrl: string;
  description: string;
  category: string;
  price: string;
  fileData?: string;
  fileName?: string;
  fileType?: string;
  externalLink?: string;
}

// Adapting Firebase User to our App's Session Interface
export type Session = {
  user: {
    id: string;
    email?: string;
    user_metadata: {
        avatar_url?: string;
        full_name?: string;
    };
  };
};

export type AuthChangeEvent = 'SIGNED_IN' | 'SIGNED_OUT';

export interface Template {
  id: string;
  title: string;
  author: string;
  imageUrl: string;
  likes: number;
  views: number;
  isLiked: boolean; // Note: isLiked is personalized, often handled on frontend or separate collection
  category: string;
  description: string;
  price: string;
  
  fileUrl?: string;
  fileName?: string;
  fileType?: string;
  status: 'approved' | 'pending' | 'rejected';
  sales: number;
  earnings: number;
}

// --- AUTHENTICATION ---

export const signInWithEmail = async (email: string, pass: string) => {
    try {
        await signInWithEmailAndPassword(auth, email, pass);
        console.log("Email Sign In Successful");
    } catch (error: any) {
        console.error("Login failed:", error);
        throw error;
    }
}

export const signUpWithEmail = async (email: string, pass: string, name: string) => {
    try {
        const userCredential = await createUserWithEmailAndPassword(auth, email, pass);
        // Update profile with name
        await updateProfile(userCredential.user, {
            displayName: name,
            photoURL: `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=random`
        });
        console.log("Sign Up Successful");
    } catch (error: any) {
        console.error("Signup failed:", error);
        throw error;
    }
}

export const signInWithGoogle = async () => {
    console.log("Attempting Google Sign In...");
    const provider = new GoogleAuthProvider();
    try {
        await signInWithPopup(auth, provider);
        console.log("Google Sign In Successful");
    } catch (error: any) {
        console.error("Login failed:", error);
        alert(`Login failed: ${error.message}`);
    }
};

export const signOut = async () => {
    try {
        await firebaseSignOut(auth);
    } catch (error) {
        console.error("Sign out failed", error);
    }
};

export const onAuthStateChange = (callback: (event: AuthChangeEvent, session: Session | null) => void) => {
    const unsubscribe = onAuthStateChanged(auth, (firebaseUser) => {
        if (firebaseUser) {
            const session: Session = {
                user: {
                    id: firebaseUser.uid,
                    email: firebaseUser.email || '',
                    user_metadata: {
                        avatar_url: firebaseUser.photoURL || '',
                        full_name: firebaseUser.displayName || 'User'
                    }
                }
            };
            callback('SIGNED_IN', session);
        } else {
            callback('SIGNED_OUT', null);
        }
    });

    return { data: { subscription: { unsubscribe } } };
};


// --- DATABASE & STORAGE OPERATIONS ---

export const uploadFile = async (file: File, path: string, onProgress?: (progress: number) => void): Promise<string> => {
    if (file.size === 0) {
        return Promise.reject(new Error("File is empty (0 bytes). Please select a valid file."));
    }

    return new Promise((resolve, reject) => {
        const sRef = storageRef(storage, path);
        
        // Setting Content-Type metadata helps avoid some browser interpretation issues
        const metadata = {
            contentType: file.type || 'application/octet-stream'
        };

        const uploadTask = uploadBytesResumable(sRef, file, metadata);

        let hasStarted = false;

        // Watchdog: If upload doesn't start (0%) within 20 seconds, assume CORS error or Auth issue.
        const watchdog = setTimeout(() => {
            if (!hasStarted) {
                uploadTask.cancel();
                console.error("Upload Timeout: Likely missing CORS configuration on Firebase Storage bucket.");
                reject(new Error("Upload timed out at 0%. This usually means 'CORS' is not configured on your Firebase Storage bucket."));
            }
        }, 20000);

        uploadTask.on('state_changed', 
            (snapshot) => {
                hasStarted = true;
                const progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
                console.log(`Upload is ${progress}% done`);
                if (onProgress) onProgress(progress);
            }, 
            (error) => {
                clearTimeout(watchdog);
                console.error("Upload failed in API:", error);
                
                if (error.code === 'storage/unauthorized') {
                    reject(new Error("Permission denied. You must be logged in to upload."));
                } else if (error.code === 'storage/canceled') {
                    reject(new Error("Upload was canceled."));
                } else if (error.code === 'storage/retry-limit-exceeded') {
                    reject(new Error("Upload failed. Max retries exceeded. Check your connection."));
                } else {
                    reject(error);
                }
            }, 
            async () => {
                clearTimeout(watchdog);
                try {
                    const downloadURL = await getDownloadURL(uploadTask.snapshot.ref);
                    resolve(downloadURL);
                } catch (e) {
                    console.error("Failed to get download URL:", e);
                    reject(e);
                }
            }
        );
    });
};

/**
 * Listens for real-time updates to the templates data.
 */
export const listenForTemplates = (callback: (templates: Template[]) => void) => {
    const templatesRef = ref(db, 'templates');
    onValue(templatesRef, (snapshot) => {
        const data = snapshot.val();
        if (data) {
            // Convert object to array
            const loadedTemplates: Template[] = Object.entries(data).map(([key, value]: [string, any]) => ({
                id: key,
                ...value
            }));
            callback(loadedTemplates.reverse());
        } else {
            // If DB is empty, maybe seed it or return empty
            // For now, if empty, we might want to seed mock data for demo purposes
            // But usually, we just return empty.
            // Let's seed if completely empty for better first-run experience
            seedDatabaseIfEmpty();
            callback([]);
        }
    });
};

export const detachTemplatesListener = () => {
    // Firebase listeners are persistent, but we can off() if needed.
    // In this simple app, we mostly rely on React useEffect cleanup or just let it be.
};

const seedDatabaseIfEmpty = () => {
    const templatesRef = ref(db, 'templates');
    onValue(templatesRef, (snapshot) => {
        if (!snapshot.exists()) {
           // Seed initial data
           initialTemplates.forEach(t => {
               // We push without ID, let firebase generate one, or use existing IDs if we want to preserve them
               // Better to let firebase generate keys
               const { id, ...rest } = t;
               push(templatesRef, rest);
           });
        }
    }, { onlyOnce: true });
}


/**
 * Adds a new template to the database.
 */
export const addTemplate = async (templateData: NewTemplateData, user: Session['user']): Promise<void> => {
    const templatesRef = ref(db, 'templates');
    
    // File Handling: We use externalLink field to pass the file URL (whether external or uploaded)
    let finalFileUrl = '';
    if (templateData.externalLink) {
        finalFileUrl = templateData.externalLink;
    } else {
        // Fallback
        finalFileUrl = 'https://example.com/download-placeholder.zip';
    }

    const newTemplate = {
        title: templateData.title,
        imageUrl: templateData.imageUrl || 'https://picsum.photos/seed/placeholder/600/400',
        description: templateData.description,
        category: templateData.category,
        price: templateData.price,
        author: user.user_metadata?.full_name || 'Anonymous',
        
        likes: 0,
        views: 0,
        isLiked: false,
        status: 'pending',
        sales: 0,
        earnings: 0,
        fileUrl: finalFileUrl,
        fileName: templateData.fileName || 'External Link',
        fileType: templateData.fileType || 'link',
        createdAt: Date.now()
    };

    await push(templatesRef, newTemplate);
};

/**
 * Updates an existing template.
 */
export const updateTemplate = async (templateId: string, updates: Partial<Template>): Promise<void> => {
    const templateRef = ref(db, `templates/${templateId}`);
    await update(templateRef, updates);
};

/**
 * Delete a template.
 */
export const deleteTemplate = async (templateId: string): Promise<void> => {
    const templateRef = ref(db, `templates/${templateId}`);
    await remove(templateRef);
};


=== components/Notification.tsx ===

import React, { useEffect } from 'react';
import { XIcon } from './Icons';
import { playNotificationSound, playClickSound } from '../audio';

interface NotificationProps {
  message: string;
  onClose: () => void;
}

const Notification: React.FC<NotificationProps> = ({ message, onClose }) => {
  useEffect(() => {
    playNotificationSound();
    const timer = setTimeout(onClose, 5000); // Auto-close after 5 seconds
    return () => clearTimeout(timer);
  }, [onClose]);

  const handleClose = () => {
    playClickSound();
    onClose();
  }

  return (
    <div className="fixed top-5 left-1/2 -translate-x-1/2 z-[100] w-full max-w-md px-4 animate-slide-down-fade">
      <div className="relative rounded-full p-1 bg-gradient-to-r from-blue-600 via-cyan-500 to-purple-600" style={{ backgroundSize: '200% 200%', animation: 'animated-gradient-border 4s ease infinite' }}>
        <div className="flex items-center justify-between gap-4 bg-slate-900 text-white rounded-full px-6 py-2">
          <p className="text-sm font-bold text-glow-gradient">{message}</p>
          <button
            onClick={handleClose}
            className="p-1 rounded-full text-slate-400 hover:bg-slate-700/50 hover:text-white transition-colors flex-shrink-0"
            aria-label="Close notification"
          >
            <XIcon className="w-5 h-5" />
          </button>
        </div>
      </div>
    </div>
  );
};

export default Notification;


=== audio.ts ===

/**
 * "Soft & Organic" Audio Engine
 * Focused on warm, tactile, and non-intrusive UI sounds.
 */

let audioCtx: AudioContext | null = null;
let masterGain: GainNode | null = null;

const initAudio = () => {
  if (!audioCtx) {
    try {
      audioCtx = new (window.AudioContext || (window as any).webkitAudioContext)();
      
      // Master Channel
      masterGain = audioCtx.createGain();
      masterGain.gain.value = 0.3; // Lower global volume for subtlety
      
      // Soft Limiter to prevent harsh peaks
      const compressor = audioCtx.createDynamicsCompressor();
      compressor.threshold.value = -10;
      compressor.ratio.value = 4;
      masterGain.connect(compressor);
      compressor.connect(audioCtx.destination);
    } catch (e) {
      console.error("Web Audio API not supported");
    }
  }
  if (audioCtx?.state === 'suspended') {
    audioCtx.resume();
  }
};

// --- Utility: Soft Noise ---
const createPinkNoise = () => {
    if (!audioCtx) return null;
    const bufferSize = audioCtx.sampleRate * 2;
    const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
    const data = buffer.getChannelData(0);
    let b0, b1, b2, b3, b4, b5, b6;
    b0 = b1 = b2 = b3 = b4 = b5 = b6 = 0.0;
    for (let i = 0; i < bufferSize; i++) {
        const white = Math.random() * 2 - 1;
        b0 = 0.99886 * b0 + white * 0.0555179;
        b1 = 0.99332 * b1 + white * 0.0750759;
        b2 = 0.96900 * b2 + white * 0.1538520;
        b3 = 0.86650 * b3 + white * 0.3104856;
        b4 = 0.55000 * b4 + white * 0.5329522;
        b5 = -0.7616 * b5 - white * 0.0168980;
        data[i] = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;
        data[i] *= 0.11; // (roughly) compensate for gain
        b6 = white * 0.115926;
    }
    return buffer;
};

let pinkNoiseBuffer: AudioBuffer | null = null;


// --- Sound Functions ---

export const playClickSound = () => {
  initAudio();
  if (!audioCtx || !masterGain) return;
  const t = audioCtx.currentTime;

  // "Soft Bubble Pop"
  // Pure Sine wave with a rapid pitch drop
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  
  osc.type = 'sine';
  osc.connect(gain);
  gain.connect(masterGain);

  // Pitch Drop (Bubble effect)
  osc.frequency.setValueAtTime(600, t);
  osc.frequency.exponentialRampToValueAtTime(100, t + 0.15);
  
  // Volume Envelope (Soft attack, quick decay)
  gain.gain.setValueAtTime(0, t);
  gain.gain.linearRampToValueAtTime(0.8, t + 0.01);
  gain.gain.exponentialRampToValueAtTime(0.01, t + 0.1);

  osc.start(t);
  osc.stop(t + 0.1);
};

export const playLikeSound = () => {
  initAudio();
  if (!audioCtx || !masterGain) return;
  const t = audioCtx.currentTime;

  // "Warm Heartbeat" / "Double Pop"
  // Two soft thuds
  const playThud = (time: number, freq: number) => {
      const osc = audioCtx!.createOscillator();
      const gain = audioCtx!.createGain();
      osc.type = 'triangle'; // Richer tone
      osc.connect(gain);
      gain.connect(masterGain!);

      osc.frequency.setValueAtTime(freq, time);
      osc.frequency.exponentialRampToValueAtTime(freq * 0.5, time + 0.1);

      gain.gain.setValueAtTime(0, time);
      gain.gain.linearRampToValueAtTime(0.5, time + 0.02);
      gain.gain.exponentialRampToValueAtTime(0.01, time + 0.15);

      osc.start(time);
      osc.stop(time + 0.2);
  };

  playThud(t, 300);
  playThud(t + 0.1, 400); // Second one slightly higher
};

export const playSuccessSound = () => {
  initAudio();
  if (!audioCtx || !masterGain) return;
  const t = audioCtx.currentTime;

  // "Ethereal Chime"
  // A soft major chord with long release
  const chord = [440, 554.37, 659.25]; // A Major
  
  chord.forEach((freq, i) => {
      const osc = audioCtx!.createOscillator();
      const gain = audioCtx!.createGain();
      osc.type = 'sine';
      osc.connect(gain);
      gain.connect(masterGain!);

      // Slight stagger for strumming effect
      const startTime = t + i * 0.05;

      osc.frequency.value = freq;
      
      gain.gain.setValueAtTime(0, startTime);
      gain.gain.linearRampToValueAtTime(0.2, startTime + 0.1);
      gain.gain.exponentialRampToValueAtTime(0.001, startTime + 1.5); // Long, dreamy tail

      osc.start(startTime);
      osc.stop(startTime + 2);
  });
};

export const playNotificationSound = () => {
  initAudio();
  if (!audioCtx || !masterGain) return;
  const t = audioCtx.currentTime;

  // "Water Droplet"
  // Sine wave with distinct pitch modulation
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  
  osc.type = 'sine';
  osc.connect(gain);
  gain.connect(masterGain);

  osc.frequency.setValueAtTime(1200, t);
  osc.frequency.exponentialRampToValueAtTime(400, t + 0.2);
  
  gain.gain.setValueAtTime(0, t);
  gain.gain.linearRampToValueAtTime(0.6, t + 0.01);
  gain.gain.exponentialRampToValueAtTime(0.01, t + 0.3);

  osc.start(t);
  osc.stop(t + 0.3);
};

export const playOpenModalSound = () => {
  initAudio();
  if (!audioCtx || !masterGain) return;
  const t = audioCtx.currentTime;

  // "Soft Whoosh In"
  // Low-pass filtered pink noise, filter opening up
  if (!pinkNoiseBuffer) pinkNoiseBuffer = createPinkNoise();
  if (!pinkNoiseBuffer) return;

  const source = audioCtx.createBufferSource();
  source.buffer = pinkNoiseBuffer;
  
  const filter = audioCtx.createBiquadFilter();
  filter.type = 'lowpass';
  
  const gain = audioCtx.createGain();
  
  source.connect(filter);
  filter.connect(gain);
  gain.connect(masterGain);

  // Gentle sweep
  filter.frequency.setValueAtTime(100, t);
  filter.frequency.exponentialRampToValueAtTime(600, t + 0.3);

  gain.gain.setValueAtTime(0, t);
  gain.gain.linearRampToValueAtTime(0.2, t + 0.1); // Quiet
  gain.gain.linearRampToValueAtTime(0, t + 0.3);

  source.start(t);
  source.stop(t + 0.4);
};

export const playCloseModalSound = () => {
  initAudio();
  if (!audioCtx || !masterGain) return;
  const t = audioCtx.currentTime;

  // "Soft Whoosh Out"
  // Filter closing down
  if (!pinkNoiseBuffer) pinkNoiseBuffer = createPinkNoise();
  if (!pinkNoiseBuffer) return;

  const source = audioCtx.createBufferSource();
  source.buffer = pinkNoiseBuffer;
  
  const filter = audioCtx.createBiquadFilter();
  filter.type = 'lowpass';
  
  const gain = audioCtx.createGain();
  
  source.connect(filter);
  filter.connect(gain);
  gain.connect(masterGain);

  filter.frequency.setValueAtTime(600, t);
  filter.frequency.exponentialRampToValueAtTime(100, t + 0.25);

  gain.gain.setValueAtTime(0, t);
  gain.gain.linearRampToValueAtTime(0.2, t + 0.05);
  gain.gain.linearRampToValueAtTime(0, t + 0.25);

  source.start(t);
  source.stop(t + 0.3);
};

let lastTypingSoundTime = 0;
const typingSoundCooldown = 60; // Increased from 30 to 60 to reduce lag

export const playTypingSound = () => {
  const now = Date.now();
  if (now - lastTypingSoundTime < typingSoundCooldown) return;
  lastTypingSoundTime = now;

  initAudio();
  if (!audioCtx || !masterGain) return;
  const t = audioCtx.currentTime;

  // "Matte Keypress" / "Thock"
  // Very short, low pitched pulse
  const osc = audioCtx.createOscillator();
  const gain = audioCtx.createGain();
  
  osc.type = 'triangle'; // Softer than square, harder than sine
  osc.connect(gain);
  gain.connect(masterGain);

  // Randomize pitch slightly for realism
  const freq = 150 + Math.random() * 30;
  osc.frequency.setValueAtTime(freq, t);
  
  gain.gain.setValueAtTime(0.15, t);
  gain.gain.exponentialRampToValueAtTime(0.001, t + 0.05); // Extremely short

  osc.start(t);
  osc.stop(t + 0.06);
};


=== components/DashboardModal.tsx ===
import React, { useEffect, useState } from 'react';
import { XIcon, CheckCircleIcon, LockIcon } from './Icons';
import { Template, listenForTemplates, deleteTemplate, updateTemplate } from '../api';
import { playClickSound, playSuccessSound } from '../audio';

interface DashboardModalProps {
  isOpen: boolean;
  onClose: () => void;
  userEmail: string | undefined;
}

const DashboardModal: React.FC<DashboardModalProps> = ({ isOpen, onClose, userEmail }) => {
  const [activeTab, setActiveTab] = useState<'creator' | 'admin'>('creator');
  const [allTemplates, setAllTemplates] = useState<Template[]>([]);
  const [loading, setLoading] = useState(true);

  // Mock Admin Check
  const isAdmin = true; // For demo purposes, everyone is admin

  useEffect(() => {
    if (isOpen) {
        setLoading(true);
        listenForTemplates((data) => {
            setAllTemplates(data);
            setLoading(false);
        });
    }
  }, [isOpen]);

  const handleApprove = async (id: string) => {
      playSuccessSound();
      await updateTemplate(id, { status: 'approved' });
  };

  const handleDelete = async (id: string) => {
      if (confirm('Are you sure you want to delete this template?')) {
          playClickSound();
          await deleteTemplate(id);
      }
  };

  const myTemplates = allTemplates.filter(t => t.author.toLowerCase().includes((userEmail?.split('@')[0] || '').toLowerCase()) || t.author === 'Anonymous Creator');
  
  // Calculate Creator Stats
  const totalSales = myTemplates.reduce((acc, curr) => acc + (curr.sales || 0), 0);
  const totalEarnings = myTemplates.reduce((acc, curr) => acc + (curr.earnings || 0), 0);

  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 z-[80] flex items-center justify-center bg-black/90 backdrop-blur-xl p-4 animate-fade-in" onClick={onClose}>
        <div className="w-full max-w-5xl h-[85vh] bg-[#030304] border border-[#1F1F1F] rounded-[24px] overflow-hidden flex flex-col" onClick={e => e.stopPropagation()}>
            
            {/* Header */}
            <div className="p-8 border-b border-[#1F1F1F] flex justify-between items-center bg-[#050505]">
                <div>
                    <h2 className="text-2xl font-bold text-white">Dashboard</h2>
                    <p className="text-slate-500 text-sm">Manage your content and earnings.</p>
                </div>
                <button onClick={onClose} className="p-2 rounded-full bg-[#111] text-slate-400 hover:text-white hover:bg-[#222]"><XIcon className="w-5 h-5"/></button>
            </div>

            {/* Tabs */}
            <div className="flex border-b border-[#1F1F1F] bg-[#050505]">
                <button 
                    onClick={() => setActiveTab('creator')} 
                    className={`px-8 py-4 text-sm font-bold uppercase tracking-wider border-b-2 transition-colors ${activeTab === 'creator' ? 'border-blue-500 text-white' : 'border-transparent text-slate-500 hover:text-slate-300'}`}
                >
                    Creator Studio
                </button>
                {isAdmin && (
                    <button 
                        onClick={() => setActiveTab('admin')} 
                        className={`px-8 py-4 text-sm font-bold uppercase tracking-wider border-b-2 transition-colors ${activeTab === 'admin' ? 'border-purple-500 text-white' : 'border-transparent text-slate-500 hover:text-slate-300'}`}
                    >
                        Admin Control
                    </button>
                )}
            </div>

            {/* Content */}
            <div className="flex-1 overflow-y-auto custom-scrollbar p-8 bg-[#030304]">
                
                {/* --- CREATOR TAB --- */}
                {activeTab === 'creator' && (
                    <div className="space-y-8">
                        {/* Stats Cards */}
                        <div className="grid grid-cols-3 gap-6">
                            <div className="p-6 rounded-2xl bg-[#080808] border border-[#222]">
                                <p className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Total Earnings</p>
                                <p className="text-3xl font-mono font-bold text-white">{totalEarnings.toLocaleString()}</p>
                            </div>
                            <div className="p-6 rounded-2xl bg-[#080808] border border-[#222]">
                                <p className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Total Sales</p>
                                <p className="text-3xl font-mono font-bold text-white">{totalSales}</p>
                            </div>
                            <div className="p-6 rounded-2xl bg-[#080808] border border-[#222]">
                                <p className="text-xs font-bold text-slate-500 uppercase tracking-wider mb-2">Live Templates</p>
                                <p className="text-3xl font-mono font-bold text-white">{myTemplates.length}</p>
                            </div>
                        </div>

                        {/* Template List */}
                        <div>
                            <h3 className="text-lg font-bold text-white mb-4">My Templates</h3>
                            <div className="space-y-4">
                                {myTemplates.map(template => (
                                    <div key={template.id} className="flex items-center justify-between p-4 rounded-xl bg-[#080808] border border-[#222] hover:border-[#333] transition-colors">
                                        <div className="flex items-center gap-4">
                                            <img src={template.imageUrl} className="w-16 h-12 object-cover rounded-md opacity-80" alt="" />
                                            <div>
                                                <p className="text-white font-bold">{template.title}</p>
                                                <p className="text-xs text-slate-500">{template.price}  {template.views} Views</p>
                                            </div>
                                        </div>
                                        <div className="flex items-center gap-4">
                                            <span className={`px-3 py-1 rounded-full text-[10px] font-bold uppercase ${template.status === 'approved' ? 'bg-green-900/20 text-green-400' : 'bg-yellow-900/20 text-yellow-400'}`}>
                                                {template.status || 'Approved'}
                                            </span>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                )}

                {/* --- ADMIN TAB --- */}
                {activeTab === 'admin' && (
                     <div className="space-y-8">
                         <h3 className="text-lg font-bold text-white">Global Template Management</h3>
                         <div className="space-y-4">
                            {allTemplates.map(template => (
                                <div key={template.id} className="flex items-center justify-between p-4 rounded-xl bg-[#080808] border border-[#222] hover:border-[#333]">
                                    <div className="flex items-center gap-4">
                                        <div className="w-16 h-12 bg-[#111] rounded-md overflow-hidden">
                                            <img src={template.imageUrl} className="w-full h-full object-cover opacity-80" alt="" />
                                        </div>
                                        <div>
                                            <p className="text-white font-bold">{template.title}</p>
                                            <p className="text-xs text-slate-500">by {template.author}  {template.category}</p>
                                        </div>
                                    </div>
                                    <div className="flex items-center gap-3">
                                        {template.status === 'pending' && (
                                            <button onClick={() => handleApprove(template.id)} className="px-3 py-1.5 rounded bg-green-600 text-white text-xs font-bold hover:bg-green-500">
                                                Approve
                                            </button>
                                        )}
                                        <button onClick={() => handleDelete(template.id)} className="px-3 py-1.5 rounded bg-red-900/20 text-red-500 text-xs font-bold hover:bg-red-900/40 border border-red-900/30">
                                            Delete
                                        </button>
                                    </div>
                                </div>
                            ))}
                         </div>
                     </div>
                )}

            </div>
        </div>
    </div>
  );
};

export default DashboardModal;


=== components/LoginModal.tsx ===
import React, { useState, useEffect, useRef, memo } from 'react';
import { XIcon, LockIcon } from './Icons';
import { playClickSound, playSuccessSound, playTypingSound } from '../audio';

// --- Icons ---
const MailIcon = (props: React.SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
      <path strokeLinecap="round" strokeLinejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
    </svg>
);

const UserIcon = (props: React.SVGProps<SVGSVGElement>) => (
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" {...props}>
      <path strokeLinecap="round" strokeLinejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
    </svg>
);

// --- Orbital Lock Animation ---
const OrbitalLock = () => (
  <div className="relative w-24 h-24 flex items-center justify-center mb-6 pointer-events-none">
    {/* Outer Ring */}
    <div className="absolute inset-0 rounded-full border border-cyan-500/10 border-t-cyan-400/60 animate-[spin_4s_linear_infinite]"></div>
    {/* Middle Ring */}
    <div className="absolute inset-4 rounded-full border border-blue-500/10 border-b-blue-400/60 animate-[spin_3s_linear_infinite_reverse]"></div>
    {/* Inner Ring */}
    <div className="absolute inset-7 rounded-full border border-white/5 border-l-white/40 animate-[spin_2s_linear_infinite]"></div>
    
    {/* Core */}
    <div className="relative z-10 flex items-center justify-center w-10 h-10 bg-cyan-950/50 rounded-full shadow-[0_0_30px_-5px_rgba(6,182,212,0.6)] backdrop-blur-sm border border-cyan-500/20">
        <LockIcon className="w-4 h-4 text-cyan-200" />
    </div>
    
    {/* Ambient Glow */}
    <div className="absolute inset-0 bg-cyan-500/10 rounded-full blur-2xl animate-pulse"></div>
  </div>
);

// --- Reusable Premium Input ---
const PremiumInput = ({ icon: Icon, ...props }: any) => (
    <div className="group relative">
        {/* Background layer with inset shadow for depth */}
        <div className="absolute inset-0 bg-[#030407] rounded-2xl border border-white/10 shadow-[inset_0_2px_6px_rgba(0,0,0,0.8)] transition-all duration-300 group-hover:border-white/20 group-focus-within:border-cyan-500/40 group-focus-within:bg-[#05060a] group-focus-within:shadow-[inset_0_1px_2px_rgba(0,0,0,0.5),0_0_30px_-10px_rgba(6,182,212,0.1)] z-0"></div>
        
        {/* Bottom highlight line */}
        <div className="absolute bottom-0 left-1/2 -translate-x-1/2 w-0 h-[1px] bg-gradient-to-r from-transparent via-cyan-400 to-transparent transition-all duration-500 group-focus-within:w-3/4 opacity-0 group-focus-within:opacity-100 blur-[1px] z-0"></div>

        <div className="relative z-10 flex items-center">
            {/* Icon Container */}
            <div className="pl-5 pr-4 py-4 text-slate-500 group-focus-within:text-cyan-400 transition-colors duration-300">
                <div className="relative">
                    <Icon className="w-5 h-5 relative z-10 transition-transform duration-300 group-focus-within:scale-110" />
                    {/* Icon glow blob */}
                    <div className="absolute inset-0 bg-cyan-400/30 blur-md rounded-full opacity-0 group-focus-within:opacity-100 transition-opacity duration-300"></div>
                </div>
            </div>
            
            {/* Vertical Divider */}
            <div className="h-6 w-[1px] bg-white/5 group-focus-within:bg-cyan-500/20 transition-colors duration-300"></div>

            {/* Input - High Z-Index to ensure clickability */}
            <input
                {...props}
                className="
                    relative z-50 w-full bg-transparent border-none rounded-2xl py-4 px-4
                    text-white placeholder-slate-600 text-sm font-medium tracking-wide
                    focus:outline-none focus:ring-0
                "
            />
        </div>
    </div>
);

// --- Background Component (Memoized) ---
const BackgroundLayer = memo(() => {
    const canvasRef = useRef<HTMLCanvasElement>(null);

    useEffect(() => {
        const canvas = canvasRef.current;
        if (!canvas) return;
    
        const ctx = canvas.getContext('2d');
        if (!ctx) return;
    
        let animationFrameId: number;
        let particles: Array<{
          x: number;
          y: number;
          size: number;
          speedY: number;
          opacity: number;
          pulseSpeed: number;
        }> = [];
    
        const resizeCanvas = () => {
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
        };
    
        const createParticles = () => {
          const particleCount = 60; 
          particles = [];
          for (let i = 0; i < particleCount; i++) {
            particles.push({
              x: Math.random() * canvas.width,
              y: Math.random() * canvas.height,
              size: Math.random() * 1.5 + 0.5,
              speedY: -(Math.random() * 0.3 + 0.05), 
              opacity: Math.random() * 0.4,
              pulseSpeed: Math.random() * 0.02,
            });
          }
        };
    
        const drawParticles = () => {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
          
          particles.forEach((p) => {
            p.y += p.speedY;
            
            // Oscillation
            p.opacity += Math.sin(Date.now() * p.pulseSpeed) * 0.005;
            
            // Wrap around
            if (p.y < -10) {
                p.y = canvas.height + 10;
                p.x = Math.random() * canvas.width;
            }
    
            ctx.beginPath();
            ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
            
            // Glow
            ctx.shadowBlur = 10;
            ctx.shadowColor = "rgba(255, 255, 255, 0.5)";
            ctx.fillStyle = `rgba(255, 255, 255, ${Math.max(0, Math.min(1, p.opacity))})`;
            
            ctx.fill();
            ctx.shadowBlur = 0;
          });
    
          animationFrameId = requestAnimationFrame(drawParticles);
        };
    
        resizeCanvas();
        createParticles();
        drawParticles();
    
        window.addEventListener('resize', resizeCanvas);
        return () => {
            window.removeEventListener('resize', resizeCanvas);
            cancelAnimationFrame(animationFrameId);
        };
      }, []);

    return (
        <div className="absolute inset-0 overflow-hidden pointer-events-none">
            {/* Grid Floor */}
            <div className="absolute inset-0 overflow-hidden">
                <div 
                    className="absolute inset-[-100%] bg-[linear-gradient(to_right,rgba(255,255,255,0.03)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,255,255,0.03)_1px,transparent_1px)] bg-[size:80px_80px]"
                    style={{
                        transform: 'perspective(600px) rotateX(60deg) translateY(0)',
                        animation: 'gridFlow 15s linear infinite',
                        maskImage: 'linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 100%)'
                    }}
                ></div>
            </div>
            <canvas ref={canvasRef} className="absolute inset-0 z-0 mix-blend-screen" />
            
            {/* Deep Vignette */}
            <div className="absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,#02040a_90%)]"></div>
        </div>
    );
});


interface LoginModalProps {
  isOpen: boolean;
  onClose: () => void;
  onLogin: (email: string, pass: string) => Promise<void>;
  onSignup: (email: string, pass: string, name: string) => Promise<void>;
}

const LoginModal: React.FC<LoginModalProps> = ({ isOpen, onClose, onLogin, onSignup }) => {
    const [mode, setMode] = useState<'login' | 'signup'>('login');
    const [email, setEmail] = useState('');
    const [password, setPassword] = useState('');
    const [name, setName] = useState('');
    const [isLoading, setIsLoading] = useState(false);
    const [error, setError] = useState<string | null>(null);

    useEffect(() => {
        if (!isOpen) {
            // Reset state on close
            setMode('login');
            setEmail('');
            setPassword('');
            setName('');
            setError(null);
            setIsLoading(false);
        }
    }, [isOpen]);

    const handleSubmit = async (e: React.FormEvent) => {
        e.preventDefault();
        playClickSound();
        setError(null);
        setIsLoading(true);

        try {
            if (mode === 'login') {
                await onLogin(email, password);
            } else {
                if (!name) throw new Error("Name is required");
                await onSignup(email, password, name);
            }
            playSuccessSound();
            onClose();
        } catch (err: any) {
            console.error(err);
            setError(err.message || "Authentication failed");
        } finally {
            setIsLoading(false);
        }
    };

    if (!isOpen) return null;

    return (
        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
            {/* Backdrop */}
            <div 
                className="absolute inset-0 bg-[#000000]/80 backdrop-blur-sm transition-opacity duration-500"
                onClick={onClose}
            ></div>

            {/* Modal Card */}
            <div className="relative w-full max-w-[400px] bg-[#0A0A0A] rounded-[32px] overflow-hidden shadow-[0_0_50px_-10px_rgba(0,0,0,0.8)] border border-white/10 animate-fade-in-scale">
                
                <BackgroundLayer />

                {/* Close Button */}
                <button 
                    onClick={() => { playClickSound(); onClose(); }}
                    className="absolute top-5 right-5 z-50 p-2 text-slate-500 hover:text-white bg-white/5 hover:bg-white/10 rounded-full transition-all"
                >
                    <XIcon className="w-5 h-5" />
                </button>

                <div className="relative z-10 p-8 flex flex-col items-center">
                    
                    <OrbitalLock />

                    <h2 className="text-2xl font-bold text-white mb-2 tracking-tight">
                        {mode === 'login' ? 'Welcome Back' : 'Create Account'}
                    </h2>
                    <p className="text-slate-400 text-sm mb-8 text-center max-w-[240px]">
                        {mode === 'login' 
                            ? 'Enter your credentials to access your dashboard.' 
                            : 'Join the community of creators building the future.'}
                    </p>

                    <form onSubmit={handleSubmit} className="w-full space-y-4">
                        {mode === 'signup' && (
                            <PremiumInput 
                                icon={UserIcon}
                                type="text"
                                placeholder="Full Name"
                                value={name}
                                onChange={(e: any) => setName(e.target.value)}
                                required
                            />
                        )}
                        
                        <PremiumInput 
                            icon={MailIcon}
                            type="email"
                            placeholder="Email Address"
                            value={email}
                            onChange={(e: any) => setEmail(e.target.value)}
                            required
                        />

                        <PremiumInput 
                            icon={LockIcon}
                            type="password"
                            placeholder="Password"
                            value={password}
                            onChange={(e: any) => setPassword(e.target.value)}
                            required
                        />

                        {error && (
                            <div className="p-3 rounded-xl bg-red-500/10 border border-red-500/20 text-red-400 text-xs text-center font-medium animate-shake">
                                {error}
                            </div>
                        )}

                        <button 
                            type="submit"
                            disabled={isLoading}
                            className="
                                relative w-full h-14 mt-6 rounded-xl font-bold text-sm tracking-wide uppercase
                                bg-white text-black hover:bg-slate-200 active:scale-[0.98] transition-all
                                disabled:opacity-70 disabled:cursor-not-allowed overflow-hidden
                            "
                        >
                            {isLoading && (
                                <div className="absolute inset-0 bg-black/10 flex items-center justify-center z-20">
                                    <div className="w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"></div>
                                </div>
                            )}
                            <span className={isLoading ? 'opacity-0' : 'opacity-100'}>
                                {mode === 'login' ? 'Sign In' : 'Sign Up'}
                            </span>
                        </button>
                    </form>

                    <div className="mt-6 flex items-center gap-2 text-xs font-medium text-slate-500">
                        <span>{mode === 'login' ? "Don't have an account?" : "Already have an account?"}</span>
                        <button 
                            type="button"
                            onClick={() => { playClickSound(); setMode(mode === 'login' ? 'signup' : 'login'); }}
                            className="text-white hover:text-cyan-400 transition-colors"
                        >
                            {mode === 'login' ? 'Sign Up' : 'Log In'}
                        </button>
                    </div>

                </div>
            </div>
        </div>
    );
};

export default LoginModal;


=== components/ScrollReveal.tsx ===
import React, { useRef, useState, useEffect } from 'react';

interface ScrollRevealProps {
  children: React.ReactNode;
  className?: string;
  delay?: number; // Delay in ms
  staggerIndex?: number; // Index for list items to auto-calculate delay
  threshold?: number; // 0 to 1, how much of item must be visible
}

export const ScrollReveal: React.FC<ScrollRevealProps> = ({ 
  children, 
  className = "", 
  delay = 0, 
  staggerIndex = 0,
  threshold = 0.1 
}) => {
  const ref = useRef<HTMLDivElement>(null);
  const [isVisible, setIsVisible] = useState(false);

  useEffect(() => {
    const observer = new IntersectionObserver(([entry]) => {
      if (entry.isIntersecting) {
        setIsVisible(true);
        observer.unobserve(entry.target); // Only trigger once
      }
    }, { 
      threshold: threshold,
      rootMargin: '0px 0px -50px 0px' // Trigger slightly before it's fully in view
    });

    if (ref.current) {
      observer.observe(ref.current);
    }

    return () => {
      if (ref.current) observer.disconnect();
    };
  }, [threshold]);

  // Calculate stagger delay: base delay + (index * 100ms)
  // This creates the "one by one" effect
  const finalDelay = delay + (staggerIndex * 100);

  return (
    <div 
      ref={ref} 
      className={`${className} ${isVisible ? 'animate-reveal-blur opacity-100' : 'opacity-0'}`}
      style={{ animationDelay: `${finalDelay}ms`, animationFillMode: 'forwards' }}
    >
      {children}
    </div>
  );
};

export default ScrollReveal;


=== components/ui/MovingBorder.tsx ===
"use client";
import React, { useRef } from "react";
import {
  motion,
  useAnimationFrame,
  useMotionTemplate,
  useMotionValue,
  useTransform,
} from "framer-motion";

// Utility for class merging
function cn(...classes: (string | undefined | null | false)[]) {
  return classes.filter(Boolean).join(" ");
}

export function MovingBorderButton({
  borderRadius = "1.75rem",
  children,
  as: Component = "button",
  containerClassName,
  borderClassName,
  duration,
  className,
  ...otherProps
}: {
  borderRadius?: string;
  children?: React.ReactNode;
  as?: any;
  containerClassName?: string;
  borderClassName?: string;
  duration?: number;
  className?: string;
  [key: string]: any;
}) {
  return (
    <Component
      className={cn(
        "relative h-auto w-auto overflow-hidden bg-transparent p-[1px]",
        containerClassName,
      )}
      style={{
        borderRadius: borderRadius,
      }}
      {...otherProps}
    >
      <div
        className="absolute inset-0"
        style={{ borderRadius: `calc(${borderRadius} * 0.96)` }}
      >
        <MovingBorder duration={duration} rx="30%" ry="30%">
          <div
            className={cn(
              "h-20 w-20 opacity-[0.8]", // Removed default bg-radial to avoid weird light mixing
              borderClassName,
            )}
          />
        </MovingBorder>
      </div>

      <div
        className={cn(
          "relative flex h-full w-full items-center justify-center bg-slate-900/[0.8] text-sm text-white antialiased backdrop-blur-xl",
          className,
        )}
        style={{
          borderRadius: `calc(${borderRadius} * 0.96)`,
        }}
      >
        {children}
      </div>
    </Component>
  );
}

export const MovingBorder = ({
  children,
  duration = 2000,
  rx,
  ry,
  ...otherProps
}: {
  children?: React.ReactNode;
  duration?: number;
  rx?: string;
  ry?: string;
  [key: string]: any;
}) => {
  const pathRef = useRef<any>();
  const progress = useMotionValue<number>(0);

  useAnimationFrame((time) => {
    const length = pathRef.current?.getTotalLength();
    if (length) {
      const pxPerMillisecond = length / duration;
      progress.set((time * pxPerMillisecond) % length);
    }
  });

  const x = useTransform(
    progress,
    (val) => pathRef.current?.getPointAtLength(val).x,
  );
  const y = useTransform(
    progress,
    (val) => pathRef.current?.getPointAtLength(val).y,
  );

  const transform = useMotionTemplate`translateX(${x}px) translateY(${y}px) translateX(-50%) translateY(-50%)`;

  return (
    <>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        preserveAspectRatio="none"
        className="absolute h-full w-full"
        width="100%"
        height="100%"
        {...otherProps}
      >
        <rect
          fill="none"
          width="100%"
          height="100%"
          rx={rx}
          ry={ry}
          ref={pathRef}
        />
      </svg>
      <motion.div
        style={{
          position: "absolute",
          top: 0,
          left: 0,
          display: "inline-block",
          transform,
        }}
      >
        {children}
      </motion.div>
    </>
  );
};


=== components/ui/BorderBeam.tsx ===

import React from "react";

interface BorderBeamProps {
  className?: string;
  size?: number;
  duration?: number;
  borderWidth?: number;
  anchor?: number;
  colorFrom?: string;
  colorTo?: string;
  delay?: number;
}

export const BorderBeam = ({
  className = "",
  size = 200,
  duration = 15,
  anchor = 90,
  borderWidth = 1.5,
  colorFrom = "#ffaa40",
  colorTo = "#9c40ff",
  delay = 0,
}: BorderBeamProps) => {
  return (
    <div
      style={
        {
          "--size": size,
          "--duration": duration,
          "--anchor": anchor,
          "--border-width": borderWidth,
          "--color-from": colorFrom,
          "--color-to": colorTo,
          "--delay": delay,
        } as React.CSSProperties
      }
      className={`pointer-events-none absolute inset-0 rounded-[inherit] [border:calc(var(--border-width)*1px)_solid_transparent] ![mask-clip:padding-box,border-box] ![mask-composite:intersect] [mask:linear-gradient(transparent,transparent),linear-gradient(white,white)] after:absolute after:aspect-square after:w-[calc(var(--size)*1px)] after:animate-border-beam after:[animation-delay:var(--delay)s] after:[background:linear-gradient(to_left,var(--color-from),var(--color-to),transparent)] after:[offset-anchor:calc(var(--anchor)*1%)_50%] after:[offset-path:rect(0_auto_auto_0_round_calc(var(--size)*1px))] ${className}`}
    />
  );
};


=== components/Galaxy.tsx ===

import React, { useRef, useEffect } from 'react';

interface GalaxyProps {
  mouseRepulsion?: boolean;
  mouseInteraction?: boolean;
  density?: number;
  glowIntensity?: number;
  saturation?: number;
  hueShift?: number;
}

const Galaxy: React.FC<GalaxyProps> = ({
  mouseRepulsion = true,
  mouseInteraction = true,
  density = 1.5,
  glowIntensity = 0.5,
  saturation = 0.8,
  hueShift = 240,
}) => {
  const canvasRef = useRef<HTMLCanvasElement>(null);

  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    if (!ctx) return;

    let width = 0;
    let height = 0;
    let particles: Particle[] = [];
    let animationFrameId: number;
    let mouse = { x: -1000, y: -1000 };

    // Initialize dimensions
    const resize = () => {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
        initParticles();
    };

    class Particle {
        x: number;
        y: number;
        vx: number;
        vy: number;
        size: number;
        color: string;
        baseX: number;
        baseY: number;
        z: number;

        constructor() {
            this.x = Math.random() * width;
            this.y = Math.random() * height;
            this.baseX = this.x;
            this.baseY = this.y;
            this.vx = (Math.random() - 0.5) * 0.5;
            this.vy = (Math.random() - 0.5) * 0.5;
            this.z = Math.random() * 2 + 0.5; // Depth factor
            this.size = Math.random() * 2;
            
            // Color generation based on hueShift and saturation
            const h = hueShift + (Math.random() * 60 - 30);
            const s = saturation * 100;
            const l = Math.random() * 50 + 50;
            this.color = `hsla(${h}, ${s}%, ${l}%, ${Math.random() * 0.5 + 0.1})`;
        }

        update() {
            // Basic movement
            this.x += this.vx * this.z;
            this.y += this.vy * this.z;

            // Wrap around screen
            if (this.x < 0) this.x = width;
            if (this.x > width) this.x = 0;
            if (this.y < 0) this.y = height;
            if (this.y > height) this.y = 0;

            // Mouse Interaction
            if (mouseInteraction) {
                // Parallax effect
                const dx = mouse.x - width / 2;
                const dy = mouse.y - height / 2;
                this.x -= dx * 0.0005 * this.z;
                this.y -= dy * 0.0005 * this.z;
            }

            // Repulsion effect
            if (mouseRepulsion) {
                const dx = mouse.x - this.x;
                const dy = mouse.y - this.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                const forceDistance = 150;

                if (distance < forceDistance) {
                    const forceDirectionX = dx / distance;
                    const forceDirectionY = dy / distance;
                    const force = (forceDistance - distance) / forceDistance;
                    const directionX = forceDirectionX * force * 5;
                    const directionY = forceDirectionY * force * 5;

                    this.x -= directionX;
                    this.y -= directionY;
                }
            }
        }

        draw(context: CanvasRenderingContext2D) {
            context.beginPath();
            context.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            context.fillStyle = this.color;
            
            // Glow effect
            if (glowIntensity > 0) {
                context.shadowBlur = this.size * 10 * glowIntensity;
                context.shadowColor = this.color;
            }
            
            context.fill();
            context.shadowBlur = 0; // Reset
        }
    }

    const initParticles = () => {
        particles = [];
        const particleCount = (width * height) / 10000 * density; // Responsive density
        for (let i = 0; i < particleCount; i++) {
            particles.push(new Particle());
        }
    };

    const animate = () => {
        // Trail effect
        ctx.fillStyle = 'rgba(0, 0, 0, 0.2)'; 
        ctx.fillRect(0, 0, width, height);

        particles.forEach(particle => {
            particle.update();
            particle.draw(ctx);
        });

        animationFrameId = requestAnimationFrame(animate);
    };

    const handleMouseMove = (e: MouseEvent) => {
        mouse.x = e.clientX;
        mouse.y = e.clientY;
    };

    const handleMouseLeave = () => {
        mouse.x = -1000;
        mouse.y = -1000;
    };

    window.addEventListener('resize', resize);
    window.addEventListener('mousemove', handleMouseMove);
    window.addEventListener('mouseleave', handleMouseLeave);

    resize();
    animate();

    return () => {
        window.removeEventListener('resize', resize);
        window.removeEventListener('mousemove', handleMouseMove);
        window.removeEventListener('mouseleave', handleMouseLeave);
        cancelAnimationFrame(animationFrameId);
    };
  }, [mouseRepulsion, mouseInteraction, density, glowIntensity, saturation, hueShift]);

  return <canvas ref={canvasRef} className="absolute inset-0 w-full h-full block bg-black" />;
};

export default Galaxy;


=== components/ParticleAnimation.tsx ===
import React, { useRef, useEffect } from 'react';

const ParticleAnimation: React.FC = () => {
  const canvasRef = useRef<HTMLCanvasElement>(null);

  useEffect(() => {
    const canvas = canvasRef.current;
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    if (!ctx) return;

    let animationFrameId: number;
    let particles: Particle[] = [];
    let mouse = { x: -9999, y: -9999 };

    const init = () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      particles = [];
      // Calculate particle density based on screen size
      const particleCount = Math.floor((canvas.width * canvas.height) / 12000); 
      
      for (let i = 0; i < particleCount; i++) {
        particles.push(new Particle());
      }
    };

    class Particle {
      x: number;
      y: number;
      size: number;
      speedX: number;
      speedY: number;
      color: string;
      originalX: number;
      originalY: number;
      density: number;

      constructor() {
        this.x = Math.random() * canvas.width;
        this.y = Math.random() * canvas.height;
        this.originalX = this.x;
        this.originalY = this.y;
        this.size = Math.random() * 1.5 + 0.5; // Small, subtle dots
        this.speedX = (Math.random() - 0.5) * 0.3; // Slow drift
        this.speedY = (Math.random() - 0.5) * 0.3;
        this.density = (Math.random() * 20) + 1;
        
        // Futuristic palette: White, Cyan, Purple with transparency
        const colors = [
            'rgba(255, 255, 255, 0.4)', 
            'rgba(255, 255, 255, 0.2)',
            'rgba(56, 189, 248, 0.3)',  // Light Blue
            'rgba(147, 51, 234, 0.2)'   // Light Purple
        ];
        this.color = colors[Math.floor(Math.random() * colors.length)];
      }

      update() {
        this.x += this.speedX;
        this.y += this.speedY;

        // Wrap around screen edges
        if (this.x > canvas.width) this.x = 0;
        else if (this.x < 0) this.x = canvas.width;
        if (this.y > canvas.height) this.y = 0;
        else if (this.y < 0) this.y = canvas.height;

        // Mouse Interaction: Subtle Repulsion/Parallax
        const dx = mouse.x - this.x;
        const dy = mouse.y - this.y;
        const distance = Math.sqrt(dx*dx + dy*dy);
        const maxDist = 150;

        if (distance < maxDist) {
             const forceDirectionX = dx / distance;
             const forceDirectionY = dy / distance;
             const force = (maxDist - distance) / maxDist;
             const directionX = forceDirectionX * force * this.density * 0.8;
             const directionY = forceDirectionY * force * this.density * 0.8;
             
             this.x -= directionX;
             this.y -= directionY;
        }
      }

      draw() {
        if (!ctx) return;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
        
        // Slight glow for larger particles
        if (this.size > 1.2) {
            ctx.shadowBlur = 4;
            ctx.shadowColor = this.color;
        } else {
            ctx.shadowBlur = 0;
        }
      }
    }

    const animate = () => {
      // Clear canvas with transparency for clean movement (no trails)
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      particles.forEach(p => {
        p.update();
        p.draw();
      });
      
      animationFrameId = requestAnimationFrame(animate);
    };

    const handleMouseMove = (event: MouseEvent) => {
      mouse.x = event.clientX;
      mouse.y = event.clientY;
    };
    
    const handleResize = () => {
        init();
    };

    window.addEventListener('mousemove', handleMouseMove);
    window.addEventListener('resize', handleResize);
    
    init();
    animate();

    return () => {
      window.removeEventListener('mousemove', handleMouseMove);
      window.removeEventListener('resize', handleResize);
      cancelAnimationFrame(animationFrameId);
    };
  }, []);

  return <canvas ref={canvasRef} className="absolute inset-0 w-full h-full pointer-events-none opacity-80" />;
};

export default ParticleAnimation;


=== package.json ===
{
  "name": "templr-with-premium-features-v5",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "framer-motion": "^11.0.0",
    "firebase": "^12.6.0"
  },
  "devDependencies": {
    "@types/node": "^22.14.0",
    "@vitejs/plugin-react": "^5.0.0",
    "typescript": "~5.8.2",
    "vite": "^6.2.0"
  }
}


=== index.html ===
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Templr - Design Ecosystem</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Manrope:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            background: '#000000',
            surface: '#080808',
            border: '#1F1F1F',
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            display: ['Manrope', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          animation: {
            'fade-in': 'fadeIn 0.6s ease-out forwards',
            'slide-up': 'slideUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
            'reveal-blur': 'revealBlur 1.5s cubic-bezier(0.16, 1, 0.3, 1) forwards',
            'grid-flow': 'gridFlow 20s linear infinite',
            'float-slow': 'float 8s ease-in-out infinite',
            'float-delayed': 'float 8s ease-in-out 4s infinite',
            'pulse-glow': 'pulseGlow 4s ease-in-out infinite',
            'shimmer': 'shimmer 2s linear infinite',
            'hue-cycle': 'hueCycle 10s linear infinite',
            'flow-rotate': 'flowRotate 20s linear infinite',
            'liquid-pulse': 'liquidPulse 10s ease-in-out infinite',
            'spin-slow': 'spin 4s linear infinite',
            'border-beam': 'border-beam 3s linear infinite',
          },
          keyframes: {
            fadeIn: {
              'from': { opacity: '0' },
              'to': { opacity: '1' },
            },
            slideUp: {
              'from': { opacity: '0', transform: 'translateY(20px)' },
              'to': { opacity: '1', transform: 'translateY(0)' },
            },
            revealBlur: {
              '0%': { opacity: '0', transform: 'translateY(40px)', filter: 'blur(12px)' },
              '100%': { opacity: '1', transform: 'translateY(0)', filter: 'blur(0)' },
            },
            gridFlow: {
              '0%': { transform: 'translateY(0)' },
              '100%': { transform: 'translateY(40px)' },
            },
            float: {
                '0%, 100%': { transform: 'translateY(0) rotateX(0deg)' },
                '50%': { transform: 'translateY(-20px) rotateX(5deg)' },
            },
            pulseGlow: {
              '0%, 100%': { opacity: '0.5', transform: 'scale(1)' },
              '50%': { opacity: '1', transform: 'scale(1.2)' },
            },
            shimmer: {
              '0%': { backgroundPosition: '200% 0' },
              '100%': { backgroundPosition: '-200% 0' },
            },
            hueCycle: {
              '0%': { filter: 'hue-rotate(0deg)' },
              '100%': { filter: 'hue-rotate(360deg)' }
            },
            flowRotate: {
              '0%': { transform: 'rotate(0deg) scale(1)' },
              '50%': { transform: 'rotate(180deg) scale(1.2)' },
              '100%': { transform: 'rotate(360deg) scale(1)' }
            },
            liquidPulse: {
              '0%, 100%': { borderRadius: '60% 40% 30% 70% / 60% 30% 70% 40%', transform: 'scale(1)' },
              '50%': { borderRadius: '30% 60% 70% 40% / 50% 60% 30% 60%', transform: 'scale(1.1)' }
            },
            'border-beam': {
              '100%': { 'offset-distance': '100%' }
            }
          }
        }
      }
    }
  </script>
  <style>
    :root {
      --bg-color: #000000;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--bg-color);
      color: #ffffff;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* Precision Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-track {
      background: #000;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #333;
      border-radius: 3px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background-color: #444;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    ::selection {
      background: rgba(59, 130, 246, 0.3);
      color: white;
    }
    
    .perspective-container {
        perspective: 1000px;
    }
    .preserve-3d {
        transform-style: preserve-3d;
    }
  </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/client": "https://aistudiocdn.com/react-dom@^19.2.0/client",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "framer-motion": "https://aistudiocdn.com/framer-motion@^11.0.0",
    "firebase/app": "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js",
    "firebase/auth": "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js",
    "firebase/database": "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js",
    "firebase/analytics": "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js",
    "firebase/storage": "https://www.gstatic.com/firebasejs/10.8.0/firebase-storage.js",
    "firebase/": "https://aistudiocdn.com/firebase@^12.6.0/"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="bg-[#000000]">
  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>
</body>
</html>


=== index.tsx ===
import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App';

const rootElement = document.getElementById('root');
if (!rootElement) {
  throw new Error("Could not find root element to mount to");
}

const root = ReactDOM.createRoot(rootElement);
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);


=== tsconfig.json ===
{
  "compilerOptions": {
    "target": "ES2022",
    "experimentalDecorators": true,
    "useDefineForClassFields": false,
    "module": "ESNext",
    "lib": [
      "ES2022",
      "DOM",
      "DOM.Iterable"
    ],
    "skipLibCheck": true,
    "types": [
      "node"
    ],
    "moduleResolution": "bundler",
    "isolatedModules": true,
    "moduleDetection": "force",
    "allowJs": true,
    "jsx": "react-jsx",
    "paths": {
      "@/*": [
        "./*"
      ]
    },
    "allowImportingTsExtensions": true,
    "noEmit": true
  }
}


=== vite.config.ts ===
import path from 'path';
import { defineConfig, loadEnv } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig(({ mode }) => {
    const env = loadEnv(mode, '.', '');
    return {
      server: {
        port: 3000,
        host: '0.0.0.0',
      },
      plugins: [react()],
      define: {
        'process.env.API_KEY': JSON.stringify(env.GEMINI_API_KEY),
        'process.env.GEMINI_API_KEY': JSON.stringify(env.GEMINI_API_KEY)
      },
      resolve: {
        alias: {
          '@': path.resolve(__dirname, '.'),
        }
      }
    };
});


=== .env.local ===
GEMINI_API_KEY=PLACEHOLDER_API_KEY


=== .gitignore ===
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?


=== README.md ===
<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

# Run and deploy your AI Studio app

This contains everything you need to run your app locally.

View your app in AI Studio: https://ai.studio/apps/drive/1-jePY22NExMgegIzUXptI3893xiukXjc

## Run Locally

**Prerequisites:**  Node.js


1. Install dependencies:
   `npm install`
2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key
3. Run the app:
   `npm run dev`


